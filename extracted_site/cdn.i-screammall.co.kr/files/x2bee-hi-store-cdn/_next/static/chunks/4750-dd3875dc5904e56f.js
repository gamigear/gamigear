(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[4750],{16188:function(e,t,o){"use strict";o.d(t,{Z:function(){return M}});var a=o(2265),s=o(1119),n={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M908.1 353.1l-253.9-36.9L540.7 86.1c-3.1-6.3-8.2-11.4-14.5-14.5-15.8-7.8-35-1.3-42.9 14.5L369.8 316.2l-253.9 36.9c-7 1-13.4 4.3-18.3 9.3a32.05 32.05 0 00.6 45.3l183.7 179.1-43.4 252.9a31.95 31.95 0 0046.4 33.7L512 754l227.1 119.4c6.2 3.3 13.4 4.4 20.3 3.2 17.4-3 29.1-19.5 26.1-36.9l-43.4-252.9 183.7-179.1c5-4.9 8.3-11.3 9.3-18.3 2.7-17.5-9.5-33.7-27-36.3z"}}]},name:"star",theme:"filled"},r=o(55015),l=a.forwardRef(function(e,t){return a.createElement(r.Z,(0,s.Z)({},e,{ref:t,icon:n}))}),c=o(36760),i=o.n(c),d=o(11993),u=o(26365),m=o(6989),p=o(50506),x=o(95814),h=o(18242),N=a.forwardRef(function(e,t){var o=e.disabled,s=e.prefixCls,n=e.character,r=e.characterRender,l=e.index,c=e.count,d=e.value,u=e.allowHalf,m=e.focused,p=e.onHover,h=e.onClick,N=l+1,f=new Set([s]);0===d&&0===l&&m?f.add("".concat(s,"-focused")):u&&d+.5>=N&&d<N?(f.add("".concat(s,"-half")),f.add("".concat(s,"-active")),m&&f.add("".concat(s,"-focused"))):(N<=d?f.add("".concat(s,"-full")):f.add("".concat(s,"-zero")),N===d&&m&&f.add("".concat(s,"-focused")));var C="function"==typeof n?n(e):n,g=a.createElement("li",{className:i()(Array.from(f)),ref:t},a.createElement("div",{onClick:o?null:function(e){h(e,l)},onKeyDown:o?null:function(e){e.keyCode===x.Z.ENTER&&h(e,l)},onMouseMove:o?null:function(e){p(e,l)},role:"radio","aria-checked":d>l?"true":"false","aria-posinset":l+1,"aria-setsize":c,tabIndex:o?-1:0},a.createElement("div",{className:"".concat(s,"-first")},C),a.createElement("div",{className:"".concat(s,"-second")},C)));return r&&(g=r(g,e)),g}),f=["prefixCls","className","defaultValue","value","count","allowHalf","allowClear","keyboard","character","characterRender","disabled","direction","tabIndex","autoFocus","onHoverChange","onChange","onFocus","onBlur","onKeyDown","onMouseLeave"],C=a.forwardRef(function(e,t){var o,n=e.prefixCls,r=void 0===n?"rc-rate":n,l=e.className,c=e.defaultValue,C=e.value,g=e.count,E=void 0===g?5:g,y=e.allowHalf,b=void 0!==y&&y,S=e.allowClear,v=void 0===S||S,j=e.keyboard,R=void 0===j||j,T=e.character,A=void 0===T?"★":T,_=e.characterRender,I=e.disabled,M=e.direction,O=void 0===M?"ltr":M,L=e.tabIndex,w=e.autoFocus,D=e.onHoverChange,P=e.onChange,F=e.onFocus,U=e.onBlur,k=e.onKeyDown,B=e.onMouseLeave,Z=(0,m.Z)(e,f),G=(o=a.useRef({}),[function(e){return o.current[e]},function(e){return function(t){o.current[e]=t}}]),K=(0,u.Z)(G,2),H=K[0],q=K[1],Y=a.useRef(null),z=function(){if(!I){var e;null===(e=Y.current)||void 0===e||e.focus()}};a.useImperativeHandle(t,function(){return{focus:z,blur:function(){if(!I){var e;null===(e=Y.current)||void 0===e||e.blur()}}}});var Q=(0,p.Z)(c||0,{value:C}),V=(0,u.Z)(Q,2),X=V[0],W=V[1],$=(0,p.Z)(null),J=(0,u.Z)($,2),ee=J[0],et=J[1],eo=function(e,t){var o="rtl"===O,a=e+1;if(b){var s,n,r,l,c,i,d,u,m,p=H(e),x=(l=(r=p.ownerDocument).body,c=r&&r.documentElement,s=(i=p.getBoundingClientRect()).left,n=i.top,d={left:s-=c.clientLeft||l.clientLeft||0,top:n-=c.clientTop||l.clientTop||0},m=(u=p.ownerDocument).defaultView||u.parentWindow,d.left+=function(e){var t=e.pageXOffset,o="scrollLeft";if("number"!=typeof t){var a=e.document;"number"!=typeof(t=a.documentElement[o])&&(t=a.body[o])}return t}(m),d.left),h=p.clientWidth;o&&t-x>h/2?a-=.5:!o&&t-x<h/2&&(a-=.5)}return a},ea=function(e){W(e),null==P||P(e)},es=a.useState(!1),en=(0,u.Z)(es,2),er=en[0],el=en[1],ec=a.useState(null),ei=(0,u.Z)(ec,2),ed=ei[0],eu=ei[1],em=function(e,t){var o=eo(t,e.pageX);o!==ee&&(eu(o),et(null)),null==D||D(o)},ep=function(e){I||(eu(null),et(null),null==D||D(void 0)),e&&(null==B||B(e))},ex=function(e,t){var o=eo(t,e.pageX),a=!1;v&&(a=o===X),ep(),ea(a?0:o),et(a?o:null)};a.useEffect(function(){w&&!I&&z()},[]);var eh=Array(E).fill(0).map(function(e,t){return a.createElement(N,{ref:q(t),index:t,count:E,disabled:I,prefixCls:"".concat(r,"-star"),allowHalf:b,value:null===ed?X:ed,onClick:ex,onHover:em,key:e||t,character:A,characterRender:_,focused:er})}),eN=i()(r,l,(0,d.Z)((0,d.Z)({},"".concat(r,"-disabled"),I),"".concat(r,"-rtl"),"rtl"===O));return a.createElement("ul",(0,s.Z)({className:eN,onMouseLeave:ep,tabIndex:I?-1:void 0===L?0:L,onFocus:I?null:function(){el(!0),null==F||F()},onBlur:I?null:function(){el(!1),null==U||U()},onKeyDown:I?null:function(e){var t=e.keyCode,o="rtl"===O,a=b?.5:1;R&&(t===x.Z.RIGHT&&X<E&&!o?(ea(X+a),e.preventDefault()):t===x.Z.LEFT&&X>0&&!o?(ea(X-a),e.preventDefault()):t===x.Z.RIGHT&&X>0&&o?(ea(X-a),e.preventDefault()):t===x.Z.LEFT&&X<E&&o&&(ea(X+a),e.preventDefault())),null==k||k(e)},ref:Y},(0,h.Z)(Z,{aria:!0,data:!0,attr:!0})),eh)}),g=o(71744),E=o(25848),y=o(93463),b=o(12918),S=o(99320),v=o(98590);let j=e=>{let{componentCls:t}=e;return{["".concat(t,"-star")]:{position:"relative",display:"inline-block",color:"inherit",cursor:"pointer","&:not(:last-child)":{marginInlineEnd:e.marginXS},"> div":{transition:"all ".concat(e.motionDurationMid,", outline 0s"),"&:hover":{transform:e.starHoverScale},"&:focus":{outline:0},"&:focus-visible":{outline:"".concat((0,y.bf)(e.lineWidth)," dashed ").concat(e.starColor),transform:e.starHoverScale}},"&-first, &-second":{color:e.starBg,transition:"all ".concat(e.motionDurationMid),userSelect:"none"},"&-first":{position:"absolute",top:0,insetInlineStart:0,width:"50%",height:"100%",overflow:"hidden",opacity:0},["&-half ".concat(t,"-star-first, &-half ").concat(t,"-star-second")]:{opacity:1},["&-half ".concat(t,"-star-first, &-full ").concat(t,"-star-second")]:{color:"inherit"}}}},R=e=>({["&-rtl".concat(e.componentCls)]:{direction:"rtl"}}),T=e=>{let{componentCls:t}=e;return{[t]:Object.assign(Object.assign(Object.assign(Object.assign({},(0,b.Wf)(e)),{display:"inline-block",margin:0,padding:0,color:e.starColor,fontSize:e.starSize,lineHeight:1,listStyle:"none",outline:"none",["&-disabled".concat(t," ").concat(t,"-star")]:{cursor:"default","> div:hover":{transform:"scale(1)"}}}),j(e)),R(e))}};var A=(0,S.I$)("Rate",e=>[T((0,v.IX)(e,{}))],e=>({starColor:e.yellow6,starSize:.5*e.controlHeightLG,starHoverScale:"scale(1.1)",starBg:e.colorFillContent})),_=o(86586),I=function(e,t){var o={};for(var a in e)Object.prototype.hasOwnProperty.call(e,a)&&0>t.indexOf(a)&&(o[a]=e[a]);if(null!=e&&"function"==typeof Object.getOwnPropertySymbols)for(var s=0,a=Object.getOwnPropertySymbols(e);s<a.length;s++)0>t.indexOf(a[s])&&Object.prototype.propertyIsEnumerable.call(e,a[s])&&(o[a[s]]=e[a[s]]);return o},M=a.forwardRef((e,t)=>{let{prefixCls:o,className:s,rootClassName:n,style:r,tooltips:c,character:d=a.createElement(l,null),disabled:u}=e,m=I(e,["prefixCls","className","rootClassName","style","tooltips","character","disabled"]),{getPrefixCls:p,direction:x,rate:h}=a.useContext(g.E_),N=p("rate",o),[f,y,b]=A(N),S=Object.assign(Object.assign({},null==h?void 0:h.style),r),v=a.useContext(_.Z);return f(a.createElement(C,Object.assign({ref:t,character:d,characterRender:(e,t)=>{let{index:o}=t;return c?a.createElement(E.Z,{title:c[o]},e):e},disabled:null!=u?u:v},m,{className:i()(s,n,y,b,null==h?void 0:h.className),style:S,prefixCls:N,direction:x})))})},16456:function(e,t,o){"use strict";function a(){return(a=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var o=arguments[t];for(var a in o)({}).hasOwnProperty.call(o,a)&&(e[a]=o[a])}return e}).apply(null,arguments)}o.d(t,{default:function(){return r}});var s=o(2265),n=o(69362);function r(e){let{locale:t,...o}=e;if(!t)throw Error("Failed to determine locale in `NextIntlClientProvider`, please provide the `locale` prop explicitly.\n\nSee https://next-intl.dev/docs/configuration#locale");return s.createElement(n.IntlProvider,a({locale:t},o))}},93316:function(e,t,o){"use strict";o.d(t,{SV:function(){return r},cO:function(){return l}});var a=o(2265);let s=(0,a.createContext)(null),n={didCatch:!1,error:null};class r extends a.Component{static getDerivedStateFromError(e){return{didCatch:!0,error:e}}resetErrorBoundary(){let{error:e}=this.state;if(null!==e){for(var t,o,a=arguments.length,s=Array(a),r=0;r<a;r++)s[r]=arguments[r];null===(t=(o=this.props).onReset)||void 0===t||t.call(o,{args:s,reason:"imperative-api"}),this.setState(n)}}componentDidCatch(e,t){var o,a;null===(o=(a=this.props).onError)||void 0===o||o.call(a,e,t)}componentDidUpdate(e,t){let{didCatch:o}=this.state,{resetKeys:a}=this.props;if(o&&null!==t.error&&function(){let e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[];return e.length!==t.length||e.some((e,o)=>!Object.is(e,t[o]))}(e.resetKeys,a)){var s,r;null===(s=(r=this.props).onReset)||void 0===s||s.call(r,{next:a,prev:e.resetKeys,reason:"keys"}),this.setState(n)}}render(){let{children:e,fallbackRender:t,FallbackComponent:o,fallback:n}=this.props,{didCatch:r,error:l}=this.state,c=e;if(r){let e={error:l,resetErrorBoundary:this.resetErrorBoundary};if("function"==typeof t)c=t(e);else if(o)c=(0,a.createElement)(o,e);else if(void 0!==n)c=n;else throw l}return(0,a.createElement)(s.Provider,{value:{didCatch:r,error:l,resetErrorBoundary:this.resetErrorBoundary}},c)}constructor(e){super(e),this.resetErrorBoundary=this.resetErrorBoundary.bind(this),this.state=n}}function l(){let e=(0,a.useContext)(s);!function(e){if(null==e||"boolean"!=typeof e.didCatch||"function"!=typeof e.resetErrorBoundary)throw Error("ErrorBoundaryContext not found")}(e);let[t,o]=(0,a.useState)({error:null,hasError:!1}),n=(0,a.useMemo)(()=>({resetBoundary:()=>{e.resetErrorBoundary(),o({error:null,hasError:!1})},showBoundary:e=>o({error:e,hasError:!0})}),[e.resetErrorBoundary]);if(t.hasError)throw t.error;return n}},20269:function(e,t,o){"use strict";o.d(t,{A5:function(){return u},MB:function(){return c},Po:function(){return i},U:function(){return r},X0:function(){return d},ZP:function(){return l},_i:function(){return p},cg:function(){return m}});var a=o(76706),s=o(11614);let n=e=>{let t="; ".concat(document.cookie).split("; ".concat(e,"="));return 2===t.length?t[1].split(";").shift():""};async function r(e){return await a._.post("/api/order/v1/claim/common/getClaimPayWaitStateInfo",{body:e})}async function l(e){let{ordNo:t,claimNo:o}=e,r=n("site_no")||"";return await a._.post("/api/order/v1/claim/common/claimDetailsInfoFO",{body:{siteNo:r,ordNo:t,claimNo:o,siteNo:(0,s.getCookie)("site_no")||""}}).then(e=>e.payload||{}).catch(e=>(console.error("API call error:",e),e))}let c=async e=>(await a._.post("/api/goods/v1/detail/otherItms",{body:e})).payload,i=async e=>await a._.post("/api/order/v1/claim/common/claimCalculateCostFO",{body:e}),d=async()=>await a._.post("/api/order/v1/claim/common/additionalFeePaymentInfo"),u=async(e,t)=>await a._.uploadPost("/api/order/v1/claim/common/claimImgUpload",{form:e,files:t}),m=async e=>await a._.post("/api/order/v1/claim/common/getNewNumberedDeliNo",{body:e}),p=async e=>await a._.post("/api/order/v1/payment/getPayDivInfo",{body:e})},79844:function(e,t,o){"use strict";o.d(t,{ZP:function(){return c},s:function(){return l},y_:function(){return r}});var a=o(76706),s=o(54093),n=o(62306);async function r(e,t){return await a._.post("/api/order/v1/claim/exchange/getExchageTargetInfoFO",{body:{ordNo:e,dlvpSeq:t,claimBusinessType:s.K.CLAIM_BUSINESS.EXCHANGE.code,systemType:n.we.FO.code}})}async function l(e){return await a._.post("/api/order/v1/claim/exchange/acceptExchangeFO",{body:e})}async function c(e){return await a._.post("/api/order/v1/claim/exchange/withdrawalExchangeFO",{body:e}).then(e=>e).catch(e=>(console.error("API call error:",e),e))}},6444:function(e,t,o){"use strict";o.d(t,{OQ:function(){return l},_h:function(){return i},tb:function(){return d}});var a=o(76706),s=o(54093),n=o(62306);let r="/api/order/v1/claim/return",l=async(e,t)=>await a._.post("".concat(r,"/returnTargetInfoFO"),c(e,t)),c=(e,t)=>({body:{ordNo:e,dlvpSeq:t,claimBusinessType:s.K.CLAIM_BUSINESS.RETURN.code,systemType:n.we.FO.code}});async function i(e){return await a._.post("".concat(r,"/acceptReturnFO"),{body:e})}let d=async e=>a._.post("".concat(r,"/withdrawalReturnFO"),{body:e}).then(e=>e).catch(e=>(console.error(e),e))},55009:function(e,t,o){"use strict";o.d(t,{G:function(){return s},t:function(){return n}});var a=o(76706);async function s(e){let{deliNo:t,deliSeq:o}=e,s="/api/order/v1/delivery/tracker/deliveryTracking/".concat(t,"/").concat(o);return await a._.get(s).then(e=>e.payload)}async function n(e){return await a._.post("/api/order/v1/delivery/deliveryProcess/processDeliveryFO",{body:e})}},47491:function(e,t,o){"use strict";o.d(t,{K0:function(){return c},LG:function(){return r},We:function(){return l},az:function(){return i}});var a=o(76706),s=o(62306),n=o(11614);let r=async(e,t)=>{try{let o="";switch(t){case"ORDER":o="/api/order/v1/mypage/order/orderInfoList";break;case"RECEIVE":o="/api/order/v1/mypage/giftBox/receiveGiftBoxList";break;case"SEND":o="/api/order/v1/mypage/giftBox/sendGiftBoxList"}let{payload:s}=await a._.post(o,{body:e});return s||{}}catch(e){return console.error("API call error:",e),e}},l=async e=>{try{return await a._.post("/api/order/v1/mypage/order/orderDetailInfo",{body:{ordNo:e,siteNo:(0,n.getCookie)("site_no")||""}})}catch(e){return console.error("API call error:",e),e}},c=async(e,t)=>{try{let o={...{...t,systemType:s.we.FO.code,rcvmnCellSctNo:e.cellSctNo,rcvmnCellTxnoNo:e.cellTxnoNo,rcvmnCellEndNo:e.cellEndNo,rcvmnEmailAddr:e.emailAddr,rcvmnTelRgnNo:e.telRgnNo,rcvmnTelTxnoNo:e.telTxnoNo,rcvmnTelEndNo:e.telEndNo},...e};return await a._.post("/api/order/v1/claim/orderChange/ordDlvChangeFO",{body:o})}catch(e){return console.error("API call error:",e),e}},i=async(e,t)=>{try{let o={ordNo:t,systemType:s.we.FO.code,rcvmnCellSctNo:e.cellSctNo,rcvmnCellTxnoNo:e.cellTxnoNo,rcvmnCellEndNo:e.cellEndNo,rcvmnEmailAddr:e.emailAddr,rcvmnTelRgnNo:e.telRgnNo,rcvmnTelTxnoNo:e.telTxnoNo,rcvmnTelEndNo:e.telEndNo,...e};return await a._.put("/api/order/v1/mypage/giftBox/registerShippingAddress",{body:o})}catch(e){return console.error("API call error:",e),e}}},10534:function(e,t,o){"use strict";o.d(t,{Z:function(){return l}});var a=o(57437);o(2265);var s=o(77962),n=o(93813),r=o(75095);function l(e){var t;let{giftList:o}=e,l=(0,n.F)("claim-page");return(0,a.jsx)(a.Fragment,{children:(null!==(t=null==o?void 0:o.length)&&void 0!==t?t:0)>0&&(0,a.jsxs)("div",{className:"gift-area",children:[(0,a.jsx)("p",{className:"body1",children:l("giftProduct")}),(0,a.jsx)("div",{className:"gift-items mt-2 flex space-x-2",children:o.map((e,t)=>(0,a.jsx)("div",{className:"size-16",children:(0,a.jsx)(r.default,{src:e.goodsImg,alt:e.goodsNm,className:"size-full"})},(0,s.km)(e.ordNo,e.ordSeq,e.ordProcSeq)))})]})})}},83732:function(e,t,o){"use strict";o.d(t,{Z:function(){return c}});var a=o(57437),s=o(89553),n=o(54093),r=o(93813),l=o(42460);function c(e){let{isDetailsPage:t,claimBusiness:o,ordDtlStatCd:c,refundCpnInfo:i}=e,d=(0,r.F)("claim-page");return(0,a.jsx)(a.Fragment,{children:((null==i?void 0:i.length)||0)>0&&(0,a.jsxs)(l.Z,{type:"no-border",children:[(0,a.jsx)(s.Z,{title:d(t&&(o===n.K.CLAIM_BUSINESS.ORDER_CANCEL.code||(o===n.K.CLAIM_BUSINESS.RETURN.code?c===n.N.OM005.RETURN_COMPLETE.code:o===n.K.CLAIM_BUSINESS.EXCHANGE.code&&c===n.N.OM005.DELIVERY_COMPLETED.code))?"refundCpn":"toBeRefundCpn"),depth:1,className:"body1 mb-[10px] font-bold"}),null==i?void 0:i.map((e,t)=>(0,a.jsx)("p",{className:"body3 font-medium text-gray3",children:e.promoNm},t))]})})}},10467:function(e,t,o){"use strict";o.d(t,{Z:function(){return i}});var a=o(57437),s=o(12381),n=o(2265),r=o(54093),l=o(28644),c=o(76891);function i(e){let{title:t,className:o="",showButton:i=!1,buttonName:d,callBack:u,isGift:m=!1,comnFrdrCogoMethodCdList:p,deliMsgCdList:x,isDetail:h=!1,isSmartInfiniECoupon:N,dlvpInfo:{rcvmnNm:f,rcvmnCellSctNo:C,rcvmnCellTxnoNo:g,rcvmnCellEndNo:E,zipNo:y,zipAddr:b,dtlAddr:S,deliMsgCd:v,deliMsg:j,comnFrdrCogoMethodCd:R,comnFrdrEtcMethod:T,comnFrdrPwd:A}}=e,[_,I]=(0,n.useState)(null),[M,O]=(0,n.useState)(!1),L=e=>e&&0!==e.length?2===e.length?"".concat(e[0],"*"):"".concat(e[0]).concat("*".repeat(e.length-2)).concat(e[e.length-1]):"";(0,n.useEffect)(()=>{I({name:m?L(f):f,telNo:"".concat(C,"-").concat(m?F(null!=g?g:""):g,"-").concat(E),address:m||N?null:"[".concat(y,"] ").concat(b," ").concat(S),deliMsg:m||N?null:w(),comnFrdrMethod:m||N?null:D()})},[f,C,g,E,y,b,S,v,j,R,T,A]);let w=()=>{var e,t;return v?v===r.N.ME039.DIRECT_INPUT.code?null!=j?j:"":null!==(t=null===(e=x.find(e=>e.cd===v))||void 0===e?void 0:e.cdNm)&&void 0!==t?t:"":""},D=()=>{if(!R)return"";let e=P(R);return R===r.N.ME040.COMMON_DOOR_NUMBER.code?"".concat(e," ").concat(F(null!=A?A:"")):R===r.N.ME040.ETC.code?"".concat(e," ").concat(T?"(".concat(T,")"):""):e},P=e=>{var t,o;return null!==(o=null===(t=p.find(t=>t.cd===e))||void 0===t?void 0:t.cdNm)&&void 0!==o?o:""},F=e=>"*".repeat(e.length);return _?(0,a.jsxs)("div",{children:[(0,a.jsx)(c.Z,{title:t,tag:"h3",type:"sub",border:h,className:"head-line2 mb-[16px] font-bold",children:i&&(0,a.jsx)(s.zx,{className:"btn-arrow-right after-bg-gray4 min-h-0 p-0 font-regular text-gray4",onClick:()=>O(!0),children:d})}),(0,a.jsxs)("div",{className:"flex flex-col gap-3",children:[(0,a.jsxs)("p",{className:"body2 font-medium",children:[_.name," / ",_.telNo]}),(0,a.jsx)("p",{className:"body3",children:_.address}),!m&&!N&&(0,a.jsxs)("p",{className:"body3 text-gray3",children:["배송요청사항 : ",_.deliMsg]})]}),(0,a.jsx)(l.Z,{open:M,onClose:()=>O(!1),callback:e=>{u&&u(e)}})]}):null}},14290:function(e,t,o){"use strict";o.d(t,{Z:function(){return eP}});var a=o(57437),s=o(2265),n=o(12381),r=o(54093),l=o(99376),c=o(66742),i=o(19677),d=o(82355),u=o(76706);let m=async e=>await u._.post("/api/order/v1/claim/orderChange/ordChangeFO",{body:e});var p=o(62306),x=o(93813),h=o(20269),N=o(77962),f=o(92569),C=o(54808),g=o(71140),E=o(90535),y=o(68623);o(79734);let b=(0,E.j)("",{variants:{type:{default:"",error:"error",disabled:"disabled",text:"text"},line:{true:"line-type"}},defaultVariants:{type:"default",line:!1}});var S=e=>{let{className:t,type:o,line:n,isDisabled:r,...l}=e,c=(0,s.useRef)(null),i=(0,s.useRef)([]);return(0,s.useEffect)(()=>{var e;let t=null===(e=c.current)||void 0===e?void 0:e.nativeElement.querySelector(".ant-select-selector"),o={...l};i.current.forEach((e,t)=>{var a;e&&(null===(a=e[t])||void 0===a?void 0:a.cmAgmtSeq)===o.defaultValue&&e.classList.add("selected")}),null!==o.defaultValue&&(null==t||t.classList.add("selected"))},[l]),(0,a.jsx)("div",{className:(0,y.cn)("select-custom",t),children:(0,a.jsx)(g.Z,{ref:c,onChange:e=>{var t;let o=null===(t=c.current)||void 0===t?void 0:t.nativeElement.querySelector(".ant-select-selector");null==o||o.classList.add("selected")},className:(0,y.cn)(b({type:o,line:n})),virtual:!1,disabled:r,...l})})};function v(e){let{ordNo:t,ordSeq:o,ordProcSeq:r,goodsImg:l,goodsNo:c,goodsNm:u,brandNm:g,itmNo:E,itmNm:y,ordQty:b,salePrc:v,optGbCd:j,closeOptionChange:R,callback:T}=e,A=(0,x.F)("claim-page"),[_,I]=(0,s.useState)(!0),[M,O]=(0,s.useState)(),[L,w]=(0,s.useState)(),[D,P]=(0,s.useState)({option1:null,option2:null,option3:null,option4:null,option5:null}),[F,U]=(0,s.useState)({option2:!0,option3:!0,option4:!0,option5:!0}),[k,B]=(0,s.useState)({}),[Z,G]=(0,s.useState)([]);(0,s.useEffect)(()=>{if("20"===j){w([]);return}(0,h.MB)([{goodsNo:c,itmNo:[E],stkQty:b}]).then(e=>{var t;w((null==e?void 0:null===(t=e.at(0))||void 0===t?void 0:t.itmNos.filter(e=>"20"!==e.optGbCd))||[])})},[]),(0,s.useEffect)(()=>{if(L){let e=(0,N.pm)(L,"itmNo","itmNm"),t=(0,N.GN)(L,"itmNm"),o=(0,N.Ci)(t);G((0,N.qY)(e,o)),B(t),0===L.length?I(!1):I(!0)}},[L]);let{alert:K}=(0,C.Z)(),H=async e=>{if(void 0===e){q("동일한 옵션을 선택하셨습니다");return}try{let a=await m({ordNo:t,ordSeq:o,ordProcSeq:r,goodsNo:c,itmNo:E,chngItmNo:e,ordQty:b,salePrc:v,goodsNm:u,systemType:p.we.FO.code});if("0000"!==a.code){q(a.message||"");return}q(A("optionChangeSuccess"))}catch(e){q(e.message)}},q=(e,t)=>{K({message:e,handleOk:()=>{T(),R()}})},Y=(e,t)=>{if(P(o=>({...o,[t]:e})),null!==e){z(t,e),Q(t,e);let o=Object.values(D).filter(Boolean).concat(e).join(">"),a=(0,N.pm)(L,"itmNo","itmNm").find(e=>e.label===o);a&&O(a.value)}},z=(e,t)=>{"option1"===e&&B(e=>{let t={...e};return Object.keys(t).forEach(e=>t[e]=k[e]||[]),t})},Q=(e,t)=>{if(t){let t=Number(e.replace("option",""))+1;if(t<=5){let e="option".concat(t);U(t=>({...t,[e]:!1}))}}};return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"order-change btn-fixed",children:[(0,a.jsx)("section",{className:"px-5",children:(0,a.jsx)(d.Z,{goodsImg:l,brandNm:g,goodsNo:c,goodsNm:u,itmNm:y,ordQty:b,salePrc:v,isProductLink:!1})}),(0,a.jsx)(f.Z,{lineThin:!0,className:"bg-gray9"}),(0,a.jsx)("div",{className:"change-cont my-5 px-5",children:(0,a.jsx)("div",{className:"mb-[16px] flex flex-col items-center gap-[12px]",children:_?Object.keys(k).map((e,t)=>{let o=k[e]||[];return o.length>0?(0,a.jsx)(S,{options:o,className:"dropdown-custom w-full",placeholder:A("selectOption"),value:D[e],onChange:t=>Y(t,e),isDisabled:t>0&&!D["option".concat(t)],style:{display:"block"}},e):null}):(0,a.jsx)(S,{options:[],className:"dropdown-custom w-full",placeholder:"변경 가능한 옵션이 없습니다.",value:null,onChange:()=>{},isDisabled:!0,style:{display:"block"}},"disabled")})}),(0,a.jsx)("section",{className:"px-5",children:(0,a.jsxs)(i.ge,{children:[(0,a.jsx)(i.vC,{children:A("optionChangeGuideList.guide1")}),(0,a.jsx)(i.vC,{children:A("optionChangeGuideList.guide2")})]})}),(0,a.jsx)(n.$_,{className:"bottom-fixed w-full flex-col",grid:"grid01",children:(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full font-bold",disabled:(()=>{if(!_)return!0;let e=Object.keys(k).length;return!D["option".concat(e)]})(),onClick:()=>H(M),children:A("onChange")})})]})})}async function j(e,t){return await u._.post("/api/order/v1/claim/orderCancel/cancelPopupFO",T(e,t))}let R=async e=>await u._.post("/api/order/v1/claim/orderCancel/cancelFO",{body:e}),T=(e,t)=>({body:{ordNo:e,dlvpSeq:t,claimBusinessType:r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,systemType:p.we.FO.code}});var A=o(45787),_=o(88958);let I=()=>{let[e,t]=(0,s.useState)(!1),[o,a]=(0,s.useState)(null),[n,l]=(0,s.useState)(!1),[c,i,d]=w(),[u,m,p]=w(),x=(0,s.useRef)(null),{claimDetailsInfo:h,claimPrdList:N,claimAePrdList:f,setClaimDetailReq:C}=(0,A.A)(null),[g,E]=(0,s.useState)(null),[y,b]=(0,s.useState)(null),[S,v]=(0,s.useState)(""),j=(0,s.useRef)(!1);return{processing:e,setProcessing:t,claimTarget:o,setClaimTarget:a,isGift:n,dlvpInfo:c,handleDlvpInfo:d,withdrawalDlvpInfo:u,handleWithdrawalDlvpInfo:p,additionalFeeRef:x,claimDetailsInfo:h,claimPrdList:N,claimAePrdList:f,setClaimDetailReq:C,claimFinalAmtInfo:g,setClaimFinalAmtInfo:E,couponInfo:y,setCouponInfo:b,alertText:S,setAlertText:v,isSmartInfiniECoupon:j.current,init:e=>{a(e),l(e.claimTargetResponse.ordGbCd===r.N.OM002.GIFT_ORDER.code),m(e.claimTargetResponse.claimTargetGoodsResponseList[0]),i(e.claimTargetResponse.claimTargetGoodsResponseList[0]),j.current=e.claimTargetResponse.allEcoupon&&e.claimTargetResponse.claimTargetGoodsResponseList[0].ecpnLinkGbCd===r.N.VD015.SMART_INFINI.code}}},M=(e,t)=>{let[o,a]=(0,s.useState)([]);return(0,s.useEffect)(()=>{(async()=>{a(await (0,_.Ly)(e,t))})()},[e]),{targetList:o,addTargetList:e=>{a(t=>{let o=[...t],a=o.findIndex(t=>t.ordSeq===e.ordSeq);return o[a].isChecked=!0,o})},removeTargetList:e=>{a(t=>{let o=[...t],a=o.findIndex(t=>t.ordSeq===e);return o[a].isChecked=!1,o})},onClickAllCheck:e=>{a(o.map(t=>({...t,isChecked:e})))},addClaimQty:e=>{a(t=>{let o=[...t],a=o.findIndex(t=>t.ordSeq===e);return o[a].claimQty++,o})},subtractClaimQty:e=>{a(t=>{let o=[...t],a=o.findIndex(t=>t.ordSeq===e);return o[a].claimQty--,o})},directSetClaimQty:(e,t)=>{a(o=>{let a=[...o],s=a.findIndex(t=>t.ordSeq===e);return a[s].claimQty=t,a})},countCheckedTargets:()=>o.reduce((e,t)=>(t.isChecked&&e++,e),0)}},O=()=>{let[e,t]=(0,s.useState)([]),[o,a]=(0,s.useState)(!1);(0,s.useEffect)(()=>{a(null==e?void 0:e.every(e=>"N"===e.wthdYn))},[e]);let n=e=>({...e,ordQty:e.claimQty}),l=(e,t)=>{let o=t.filter(t=>t.goodsNo===e.goodsNo&&t.reqIteNo===e.itmNo);return(0,N.ei)(o)&&(0,N.ei)(o[0].itmNos)?o[0].itmNos:[]};return{selectList:e,makeSelectList:e=>{t(null==e?void 0:e.filter(e=>e.isChecked).map(n))},initClaimCausInfo:()=>{t(e=>[...e].map(e=>({...e,claimLgrpCd:"",claimMgrpCd:"",claimCausEtcCont:"",attachFileList:[],showOptionSelect:!1,exchangeItmNo:e.itmNo,exchangeItmNm:e.itmNm})))},handleCausCode:(e,o)=>{t(t=>{let a=[...t];return a[e].claimLgrpCd=o,a})},handleCausDtlCode:(e,o)=>{t(t=>{let a=[...t];return a[e].claimMgrpCd=o,a})},handleCausDtlRsn:(e,o)=>{t(t=>{let a=[...t];return a[e].claimCausEtcCont=o,a})},addFile:(e,o)=>{t(t=>{let a=[...t];return a[e].attachFileList=a[e].attachFileList||[],a[e].attachFileList.push(o),a})},deleteFile:(e,o)=>{t(t=>{var a;let s=[...t];return null===(a=s[e].attachFileList)||void 0===a||a.splice(o,1),s})},makeExchangeSelectList:(e,o)=>{t(e.map(e=>{let t=l(e,o);return{...e,ordQty:e.claimQty,exchangeItmList:t,exchangeGoodsNo:e.goodsNo,exchangeItmNo:e.itmNo,exchangeItmNm:e.itmNm,showOptionSelect:!1}}))},handleExchangeCausCode:(e,o)=>{t(t=>{let a=[...t],s=a[e],n=o===r.N.OM047.SIMPLE_CHANGE.code&&(0,N.ei)(s.exchangeItmList);return a[e]={...s,claimLgrpCd:o,showOptionSelect:n,exchangeItmNo:n?"":s.itmNo,exchangeItmNm:n?"":s.itmNm},a})},handleExchangeItmInfo:(e,o,a)=>{t(t=>{let s=[...t];return s[e].exchangeItmNo=o,s[e].exchangeItmNm=a,s})},isAllNonReturnable:o}},L=()=>{let[e,t]=(0,s.useState)(1);return{step:e,handleStep:e=>{t(e)}}},w=()=>{let[e,t]=(0,s.useState)(null);return[e,e=>{t((0,_.aD)(e))},e=>{t((0,_.ks)(e))}]};var D=o(15291),P=o(23675),F=o(11154),U=o(89553);let k=e=>{let{title:t,causCd:o,causDtlCd:n,causDtlRsn:l,causList:c,causDtlList:i,changeCausCd:d,changeCausDtlCd:u,changeCausDtlRsn:m,claimBusinessType:p}=e,h=(0,x.F)("claim-page.accept"),[C,g]=(0,F.Z)(null!=l?l:""),[E,y]=(0,s.useState)(null);(0,s.useEffect)(()=>{if(r.K.CLAIM_BUSINESS.ORDER_CANCEL.code===p)y(i.filter(e=>"10"===e.ref2Val));else{var e;y(null!==(e=null==i?void 0:i.filter(e=>e.ref4Val===o))&&void 0!==e?e:[])}},[o]);let b=e=>{u&&u(e),g("")};(0,s.useEffect)(()=>{m&&m(C)},[C]);let S=e=>"".concat((0,_.ev)(p,h)).concat(h(e));return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Z,{className:"head-line2 mb-[16px] font-bold",title:t}),c&&(0,a.jsx)(D.Z,{options:(0,N.pm)(c,"cd","cdNm"),className:"dropdown-custom mb2 w-full",placeholder:S("common.causCdPlaceholder"),value:o||null,onChange:e=>{d&&d(e),b("")}}),E&&(0,a.jsx)(D.Z,{options:(0,N.pm)(E,"cd","cdNm"),className:"dropdown-custom mt-2 w-full",placeholder:p===r.K.CLAIM_BUSINESS.ORDER_CANCEL.code?S("common.causCdPlaceholder"):h("common.causDtlCdPlaceholder"),value:n||null,onChange:b}),m&&(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(P.Z,{className:"textarea",placeholder:h("common.causDtlRsnPlaceholder"),id:"textarea-one",value:C,onChange:g,maxLength:20})}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"mb-0 bg-gray9 mo:h-[10px] pc:mx-[-20px]"})]})};var B=e=>{let{buttonName:t,nextStep:o,handleStep:s,handleAlert:r,doValidateProcess:l,doAfterProcess:c,disabled:i=!1}=e,d=async()=>{let{isPass:e,alertText:t}=l&&l()||{isPass:!0,alertText:""};if(!e){r&&r(t);return}c&&await c(),s&&await s(null!=o?o:0)};return(0,a.jsx)(n.$_,{className:"bottom-fixed w-full gap-[8px]",children:(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:d,disabled:i,children:t})})},Z=o(56187),G=o(18255),K=o(20772),H=e=>{let{ordNo:t,claimBusinessType:o}=e,[l,c]=(0,s.useState)(""),i=(0,x.F)("claim-page.accept"),d=()=>{let e="";switch(o){case r.K.CLAIM_BUSINESS.ORDER_CANCEL.code:e=i("cancel.sucsAccept");break;case r.K.CLAIM_BUSINESS.RETURN.code:e=i("return.sucsAccept");break;case r.K.CLAIM_BUSINESS.EXCHANGE.code:e=i("exchange.sucsAccept")}return e+i("common.success.sucsAccept")},u=()=>{let e="";switch(o){case r.K.CLAIM_BUSINESS.ORDER_CANCEL.code:e=i("common.cancel");break;case r.K.CLAIM_BUSINESS.RETURN.code:e=i("common.return");break;case r.K.CLAIM_BUSINESS.EXCHANGE.code:e=i("common.exchange")}return e+i("common.success.sucsAcceptStatus")},m=()=>{c("")},p=(e=>{let t="";switch(e){case"title":t=d();break;case"status":t=u()}return t})("title"),h=p.indexOf("완료되었습니다"),N=p.substring(0,h+7),f=p.substring(h+7);return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"py-[30px] text-center",children:[(0,a.jsxs)("p",{className:"mb-[12px] text-title3 font-bold",children:[N,(0,a.jsx)("br",{}),f]}),(0,a.jsxs)("p",{className:"sub-head2 mb-[40px] text-gray3",children:["주문번호는 ",(0,a.jsx)("span",{className:"text-black",children:t})," 입니다."]}),(0,a.jsxs)("div",{className:"flex items-center justify-between rounded-[8px] bg-gray9 px-[14px] py-[7px]",children:[(0,a.jsx)("p",{className:"text-label1 text-gray3",children:"자세한 현황은 주문내역에서 확인해 주세요."}),(0,a.jsx)(n.zx,{variant:"none",className:"min-h-0 rounded-[8px] bg-white px-[8px] py-[7px] text-label1",onClick:()=>{m(),window.location.href="../../../../../claim/order-shipping-list"},children:"보기"})]})]})})},q=o(87134),Y=o(58001),z=o(37327),Q=o(99732),V=o(68245),X=o(75060),W=o(42460),$=e=>{let{data:t,className:o="",children:s,align:n,type:r="regular",...l}=e;return(0,a.jsxs)(a.Fragment,{children:["regular"===r&&(0,a.jsx)("div",{className:"flex w-full flex-col gap-3 ".concat(o||""),...l,children:t.map((e,t)=>{let{text:o,price:s,unit:n}=e;return(0,a.jsxs)("div",{className:"body3 flex items-center justify-between font-medium text-gray3",children:[(0,a.jsx)("p",{children:o}),(0,a.jsxs)("p",{className:"font-medium text-black",children:[s,n]})]},t)})}),"total"===r&&(0,a.jsx)(a.Fragment,{children:(0,a.jsx)("div",{className:"items-between relative flex w-full flex-col justify-end gap-3 ".concat(o||""),children:t.map((e,t)=>{let{text:o,price:s,unit:r}=e;return(0,a.jsxs)("div",{className:"".concat(0===t?"body1 font-bold mo:mb-1 ".concat("right"===n?"pc:absolute pc:left-0 pc:top-0 pc:w-full":""," [&>.price]:text-primary"):"body3 text-gray3"," flex items-center justify-between"),children:[(0,a.jsx)("p",{children:o}),(0,a.jsxs)("p",{className:"price",children:[s,r]})]},t)})})})]})},J=o(55486);function ee(e){let{totAplyAdtnAmt:t,totOrdPrc:o,totDcAmt:s=0,expectedRefundAmt:n,addtionPayAmt:l,refundAdditionAmtInfoList:c,refundPaymentMethodList:i,totPayAmt:d=0,mileagePayAmt:u=0,accumulatedMileageResponses:m,payMethodResponses:h,claimBusiness:N,isDetailsPage:f,isOrderDetailPage:C,ordDtlStatCd:g}=e,E=(0,x.F)("claim-page"),y=()=>N===r.K.CLAIM_BUSINESS.ORDER_CANCEL.code||(N===r.K.CLAIM_BUSINESS.RETURN.code?g===r.N.OM005.RETURN_COMPLETE.code:N===r.K.CLAIM_BUSINESS.EXCHANGE.code&&g===r.N.OM005.DELIVERY_COMPLETED.code),b=()=>((null==c?void 0:c.length)||0)>0,S=e=>e===r.K.CLAIM_AMOUNT_TYPE.DELIVERY_FEE.code||e===r.K.CLAIM_AMOUNT_TYPE.RETURN_FEE.code||e===r.K.CLAIM_AMOUNT_TYPE.EXCHANGE_FEE.code||e===r.K.CLAIM_AMOUNT_TYPE.EXTRA_FEE.code,v=e=>e.adtnOcurGbCd===r.N.OM017.OCCURRNECE.code,j=()=>(l||0)>0,R=()=>f?E("payAmt"):E("toBePayAmt"),T=()=>C?E("totOrdPrc"):E("goodsPrice"),A=()=>f&&y()?E("refundAmt"):E("toBeRefundAmt"),_=()=>((null==i?void 0:i.length)||0)>0,I=e=>e.payWayCd===p.sw.CREDIT_CARD.code?e.acqrCdNm:e.payWayCd===p.sw.REALTIME_ACCOUNT_TRANSFER.code?"92"===e.bankCd?"토스뱅크":e.bankCdNm:e.payWayCdNm,M=e=>e.payWayCd===p.sw.MILEAGE.code?"P":E("won");return(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:f?"mb-[50px]":"my-[20px]",children:[(0,a.jsx)(U.Z,{className:"head-line2 mb-[16px] font-bold",title:C?E("initialPaymentInfo"):f&&y()?E("refundDetailTitle"):E("toBeRefundDetailTitle"),depth:1,extra:!C&&(0,a.jsx)("p",{className:"body2 font-normal text-gray3",children:f&&y()?E("refundComplete"):E("toBeRefund")})}),(0,a.jsx)($,{data:(()=>{let e=[{text:T(),price:(0,Q.addCommas)((null==o?void 0:o.toString())||""),unit:"원"},{text:E("discountPrice"),price:(0,Q.addCommas)((null==s?void 0:s.toString())||""),unit:"원"}],t=null==c?void 0:c.filter(e=>e.ordAmt>0&&S(e.type)).map(e=>{let{type:t,typeNm:o,adtnOcurGbCd:a,ordAmt:s}=e;return{type:t,typeNm:o,adtnOcurGbCd:a,ordAmt:s}}).reduce((e,t)=>{let o="".concat(t.type,"-").concat(t.adtnOcurGbCd);return e[o]||(e[o]={...t,ordAmt:0}),e[o].ordAmt+=t.ordAmt,e},{});if((0,J.ez)(t)){var a;b()&&(null===(a=Object.values(t||{}))||void 0===a||a.forEach(t=>{var o;e.push({text:t.typeNm,price:"".concat(v(t)?"-":"").concat((0,Q.addCommas)((null===(o=t.ordAmt)||void 0===o?void 0:o.toString())||"")),unit:E("won")})}))}return j()&&e.push({text:R(),price:(0,Q.addCommas)((null==l?void 0:l.toString())||""),unit:"원"}),e})(),className:"mb-[20px] border-b border-gray7 pb-[20px]"}),(n||0)>0&&(0,a.jsx)($,{data:(()=>{let e=[{text:A(),price:(0,Q.addCommas)((null==n?void 0:n.toString())||""),unit:"원"}],t=(null==i?void 0:i.reduce((e,t)=>{let o=t.payWayCd+t.acqrCd+t.cardNm;return e[o]||(e[o]={...t,rfdAmt:0}),e[o].rfdAmt+=t.rfdAmt,e},{}))||{};return(0,J.ez)(t)&&_()&&Object.values(t).forEach(t=>{e.push({text:I(t),price:(0,Q.addCommas)(t.rfdAmt.toString()),unit:M(t)})}),e})(),type:"total",className:"mo:pt-5"}),C&&(0,a.jsxs)("section",{children:[(0,a.jsx)(U.Z,{title:E("toBeMilg"),depth:3}),(0,a.jsx)(W.Z,{type:"border",children:(0,a.jsxs)("div",{className:"flex items-center justify-between",children:[(0,a.jsx)("p",{className:"body1",children:E("toBuyMilg")}),(0,a.jsxs)("div",{className:"text-primary",children:[(0,a.jsx)("span",{className:"body1 font-bold",children:null==m?void 0:m.filter(e=>"FNL"===e.type).reduce((e,t)=>e+t.aplyAdtnAmt,0)}),(0,a.jsx)("span",{className:"caption1",children:"M"})]})]})})]})]})})}var et=o(83732);let eo=(0,s.forwardRef)((e,t)=>{var o;let{claimCalculateRequest:n,claimPaymentRequest:c,claimBusiness:i,setClaimFinalAmtInfo:d,setUsingCoupon:u,handleError:m,page:f="cancel",selectList:C=[]}=e,g=(0,l.usePathname)(),E=(0,x.F)("claim-page"),[y,b]=(0,s.useState)(null),[S,v]=(0,s.useState)(!1),[j,R]=(0,s.useState)(null),[T,A]=(0,s.useState)(p.sw.CREDIT_CARD.code),I=(0,s.useRef)(null),[M,O]=(0,s.useState)(!1),[L,w]=(0,s.useState)(null),[D,P]=(0,s.useState)(0);(0,s.useImperativeHandle)(t,()=>({isExistAdditionalPayment:S,callPg:U,validAdditionalFeeSelect:k}));let F=async()=>{if(0===B)return 0;try{var e,t;let o=(0,_.Sr)(r.N.OM072.DLVP.code,B,T===p.sw.CREDIT_CARD.code?B-D:0,D,T===p.sw.REALTIME_ACCOUNT_TRANSFER.code?B-D:0,null==y?void 0:y.opOrdAdtnCostInsertList.filter(e=>e.adtnOcurGbCd===r.N.OM017.OCCURRNECE.code)),a=await (0,h._i)(o);if(a.code!==K.YC.RESULT_CODE_SUCCESS)return 0;let s=a.payload,n=null!==(e=null==s?void 0:s.reduce((e,t)=>t.taxGbCd===r.N.PR007.TAX.code?e:e+(t.crdtCardDivAmt||0),0))&&void 0!==e?e:0,l=null!==(t=null==s?void 0:s.reduce((e,t)=>t.taxGbCd===r.N.PR007.TAX.code?e:e+(t.rltmActnTrsfDivAmt||0),0))&&void 0!==t?t:0;if(T===p.sw.CREDIT_CARD.code)return n;if(T===p.sw.REALTIME_ACCOUNT_TRANSFER.code)return l;return 0}catch(e){return 0}},U=async()=>{let e=await F();(null==I?void 0:I.current)&&I.current.pay(q(e))},k=()=>{var e;if(!S||!(null==I?void 0:I.current))return!0;let{paymentRequestModel:t,readyToOrder:o}=null==I?void 0:null===(e=I.current)||void 0===e?void 0:e.getPaymentRequest(),{payInfoList:a}=t;return A(1===a.length&&a[0].payWayCd===p.sw.MILEAGE.code?p.sw.MILEAGE.code:a.some(e=>e.payWayCd===p.sw.REALTIME_ACCOUNT_TRANSFER.code)?p.sw.REALTIME_ACCOUNT_TRANSFER.code:p.sw.CREDIT_CARD.code),o},B=(0,s.useMemo)(()=>{var e;return(null==y?void 0:null===(e=y.claimFinalAmtInfo)||void 0===e?void 0:e.addtionPayAmt)||0},[y]),Z=async e=>(0,h.Po)(e).then(e=>{if((null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS){var t;let o=e.payload;return b(o),v(((null===(t=o.claimFinalAmtInfo)||void 0===t?void 0:t.addtionPayAmt)||0)>0),d&&d(o.claimFinalAmtInfo),e.payload}m(E("accept.common.error.systemErrorMsg"))}),G=(0,s.useCallback)(e=>{var t,o;return(null==e?void 0:null===(o=e.claimFinalAmtInfo)||void 0===o?void 0:null===(t=o.refundAdditionAmtInfoList.find(e=>(0,N.ei)(e.rtnDlvBenefitInfoList)))||void 0===t?void 0:t.rtnDlvBenefitInfoList)||[]},[y]),H=async e=>{let t=e.target.checked;O(t),n.selectedRtnDlvBenefitYn="Y",n.rtnDlvBenefitInfo=t?L:null,u&&L&&u(t?L:null),await Z(n)},q=e=>({...c,totOrdAmt:B,taxFreeAmt:e,failUrl:g,successUrl:(0,_.JM)(i,null==y?void 0:y.ordNo,g)}),Y=(0,s.useMemo)(()=>S||[r.K.CLAIM_BUSINESS.EXCHANGE.code,r.K.CLAIM_BUSINESS.RETURN.code].includes(i.code),[S]);return(0,s.useEffect)(()=>{Z(n).then(e=>{let t=G(e).find(e=>"Y"===e.aplyYn)||null;w(t),u&&u(t)}),(0,h.X0)().then(e=>R(null==e?void 0:e.payload))},[]),(0,s.useEffect)(()=>{let e=G(y);O(null==e?void 0:e.some(e=>"Y"===e.aplyYn))},[y]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"cancel"===f?S?"border-b border-solid border-gray7 pb-[30px] pt-[20px]":"":"border-b border-solid border-gray7 py-[20px]",children:[Y&&(0,a.jsxs)("div",{className:"flex justify-between",children:[(0,a.jsx)("p",{className:"body3 font-medium text-gray3",children:E("additionalPayAmt")}),(0,a.jsxs)("p",{className:"body3 font-medium",children:[(0,Q.addCommas)(B.toString()||""),E("won")]})]}),i.code===r.K.CLAIM_BUSINESS.EXCHANGE.code&&(0,a.jsx)("p",{className:"body2 mt-2 text-secondary1",children:E("exchangeAdditionalPayNotiMsg")})]}),G(y).length>0&&r.K.CLAIM_BUSINESS.RETURN.code&&(0,a.jsxs)("div",{className:"flex items-center border-b border-solid border-gray7 pb-[30px]",children:[(0,a.jsx)(V.Z,{type:"checkbox",value:"option-one",id:"isCouponUse",checked:M,onChange:H}),(0,a.jsxs)(X.Z,{htmlFor:"isCouponUse",children:[E("accept.return.usingFreeReturnCoupon")," (",M?1:0,"/",G(y).length,")"]})]}),S&&(0,a.jsx)(z.Z,{ref:I,hasAdditionalClass:!0,mainPayMethodInfoList:(null==j?void 0:j.mainPayMethodInfoList)||[],subPayMethodInfoList:(null==j?void 0:j.subPayMethodInfoList)||[],totalOrderAmount:B,onMileageChange:P,className:"mt-[10px] border-b border-gray7 mo:pt-[20px] pc:pb-[30px]",page:"popup"}),i.code!==r.K.CLAIM_BUSINESS.EXCHANGE.code&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"border-b border-solid border-gray7 py-[10px]",children:(0,a.jsx)(ee,{isDetailsPage:!1,claimBusiness:i.code,...null==y?void 0:y.claimFinalAmtInfo})}),(0,a.jsx)("section",{className:"mt-[30px]",children:(0,a.jsx)(et.Z,{isDetailsPage:!1,claimBusiness:i.code,refundCpnInfo:null==y?void 0:null===(o=y.restoreCouponInfo)||void 0===o?void 0:o.cpnInfo})})]})]})});eo.displayName="AcceptAdditionalFeePayment";var ea=o(10534),es=o(75370),en=e=>{let{states:t,currentStep:o,handleStep:s,className:n,isSmartInfiniECoupon:r}=e,l=e=>{o<e||s(e)};return(0,a.jsx)(a.Fragment,{children:!r&&(0,a.jsx)("div",{className:"flex items-center gap-2 ".concat(n||""),children:t.map((e,t)=>(0,a.jsx)("div",{onClick:()=>l(e.step),className:"cursor-pointer rounded-full ".concat(o===e.step?"label1 flex size-[18px] items-start justify-center bg-primary font-bold text-white":"size-[8px] bg-black opacity-10"),children:o===e.step&&e.step-1},e.step))})})},er=o(19121),el=o(86900),ec=o(75095);o(78215);var ei=e=>{let{maxQty:t,claimQty:o,addClaimQty:n,subtractClaimQty:r,directSetClaimQty:l,className:c}=e,[i,d]=(0,s.useState)(o);return(0,a.jsxs)(el.AT,{className:"mx-auto h-auto w-[96px] rounded-[8px] border border-gray6 ".concat(c||""),children:[(0,a.jsx)(el.lg,{onClick:()=>{i>1&&(d(i-1),r())},className:"size-[32px] border-none",children:(0,a.jsx)(ec.default,{src:"/images/icons/common/ico_minus_12.svg",alt:"수량빼기버튼"})}),(0,a.jsx)(el.DA,{children:(0,a.jsx)("input",{className:"size-[32px] text-center border-none bg-transparent",value:i,type:"text",maxLength:3,onChange:e=>{let o=Number(e.target.value);Number(o)>t?o=t:1>Number(o)&&(o=1),d(Number(o)),l(Number(o))}})}),(0,a.jsx)(el.lg,{onClick:()=>{i<t&&(d(i+1),n())},className:"size-[32px] border-none",children:(0,a.jsx)(ec.default,{src:"/images/icons/common/ico_plus_12.svg",alt:"수량더하기버튼"})})]})},ed=e=>{let{title:t,claimBusinessType:o,claimTargetResponse:n,handleStep:l,handleAlert:c,doAfterProcess:i,selectedOrdSeq:d}=e,u=(0,x.F)("claim-page.accept"),{targetList:m,addTargetList:p,removeTargetList:h,onClickAllCheck:f,addClaimQty:C,subtractClaimQty:g,directSetClaimQty:E,countCheckedTargets:y}=M(null==n?void 0:n.claimTargetGoodsResponseList,d),[b,S]=(0,s.useState)(!1);(0,s.useEffect)(()=>{var e;(null==m?void 0:m.length)===1&&(null===(e=m[0])||void 0===e?void 0:e.claimPossibleQty)===1&&(m[0].isChecked=!0,i(m),l(2)),S(null==m?void 0:m.every(e=>e.isChecked))},[m]);let v=(e,t)=>{var a,s;let n=null!==(s=null===(a=e.target)||void 0===a?void 0:a.checked)&&void 0!==s&&s;if(n&&r.K.CLAIM_BUSINESS.ORDER_CANCEL.code!==o&&(0,Y.ZG)(m,t)){c(u("common.notSameDeliNoAlertMsg"));return}n?p(t):h(t.ordSeq)},j=t.indexOf("을"),R=t.substring(0,j),T=t.substring(j);return(0,a.jsxs)("div",{className:"order-change btn-fixed",children:[(0,a.jsxs)("p",{className:"head-line1 mb-[40px] mt-[20px] text-center font-medium",children:[(0,a.jsx)("b",{className:"font-bold",children:R}),T]}),(0,a.jsxs)("div",{className:"mx-[-20px] flex items-center bg-gray9 px-[20px] py-[16px]",children:[(0,a.jsx)(V.Z,{checked:b,onChange:()=>{if(!b&&r.K.CLAIM_BUSINESS.ORDER_CANCEL.code!==o&&(0,Y.ZG)(m,m[0],!0)){c(u("common.notSameDeliNoAlertMsg"));return}S(!b),f(!b)},type:"checkbox",value:"option-one",id:"all-check"}),(0,a.jsx)(X.Z,{htmlFor:"all-check",className:"body3 font-medium",children:u("common.allCheck")})]}),(0,a.jsx)("section",{className:"",children:null==m?void 0:m.map((e,t)=>(0,a.jsxs)("div",{className:"border-b border-gray7 py-[20px]",children:[(0,a.jsxs)("div",{className:"flex gap-2",children:[(0,a.jsx)(V.Z,{type:"checkbox",value:"item_".concat(e.ordSeq),id:"item_".concat(e.ordSeq),className:"shrink-0",checked:e.isChecked,onChange:t=>v(t,e)}),(0,a.jsx)(er.Z,{data:e,showStatus:!1,ellipsis:1,size:"small",className:"w-full"})]}),(0,a.jsx)(ei,{className:"mt-[14px]",claimQty:e.claimQty,maxQty:e.claimPossibleQty,addClaimQty:()=>C(e.ordSeq),subtractClaimQty:()=>g(e.ordSeq),directSetClaimQty:t=>E(e.ordSeq,t)})]},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)))}),(0,a.jsx)(B,{nextStep:2,handleStep:e=>{l(e)},doValidateProcess:()=>(0,Y.uv)(m,n.sctnCnclPsbYn,u),doAfterProcess:()=>{i(m)},handleAlert:c,buttonName:u("common.nextButtonName"),disabled:1>y()})]})},eu=o(96437),em=e=>{var t;let{ordNo:o,dlvpSeq:n,ordSeq:l,closeModal:c,callback:i}=e,{processing:u,setProcessing:m,claimTarget:p,dlvpInfo:h,additionalFeeRef:g,claimDetailsInfo:E,setClaimDetailReq:y,claimPrdList:b,claimAePrdList:S,claimFinalAmtInfo:v,setClaimFinalAmtInfo:T,alertText:A,init:M}=I(),{alert:w}=(0,C.Z)(),D=(0,x.F)("claim-page.accept"),P=(0,x.F)("claim-page"),F=(0,Z.Z)({className:"pop-alert",afterClose:()=>{c()}}),U=(0,Z.Z)({className:"pop-alert"});(0,s.useEffect)(()=>{j(o,n).then(e=>{(null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS?M(e.payload):J((0,N.$d)(e,D("common.error.systemErrorMsg")))})},[o,n,l]);let{selectList:z,makeSelectList:Q,handleCausDtlCode:V}=O(),{step:X,handleStep:W}=L(),$=e=>{w({message:e,handleOk:()=>{}})},J=e=>{w({message:e,handleOk:()=>c()})},el=async()=>{var e,t;m(!0);let a=await (0,_.Ll)(o,null!==(t=null==p?void 0:null===(e=p.claimTargetResponse)||void 0===e?void 0:e.ordMediaCd)&&void 0!==t?t:"",r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,z,h,h,["withdrawalDeliNo","shipmentDeliNo"],v);if(!g.current)return;let{isExistAdditionalPayment:s,callPg:n,validAdditionalFeeSelect:l}=g.current;if(!l()){$(D("common.emptyPayListAlertMsg"));return}s?((0,es.t_)("claimRequest",a),n()):u||R(a).then(e=>{(null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS?ec(e.payload):J((0,N.$d)(e,D("common.error.systemErrorMsg")))}).finally(()=>m(!1))},ec=e=>{W(4),y((0,_.kw)(e,r.K.CLAIM_BUSINESS.ORDER_CANCEL.code))};return p?(0,a.jsxs)(a.Fragment,{children:[1===X&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:P("cancelTitle")}),(0,a.jsx)(ed,{title:D("cancel.goodsSelectTopMsg"),claimBusinessType:r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,claimTargetResponse:(0,_.eg)(p.claimTargetResponse),handleStep:W,handleAlert:$,doAfterProcess:Q,selectedOrdSeq:l})]}),2===X&&(0,a.jsxs)("div",{className:"mb-[20px] mt-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:D("common.causCdPlaceholder")}),(0,a.jsx)(en,{states:r.K.CANCEL_ACCEPT_STATE,currentStep:X,handleStep:W,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:p.claimTargetResponse.ordNo,ordAccpDtm:p.claimTargetResponse.ordAccpDtm,className:"mx-[-20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0"}),(0,a.jsx)("div",{className:"",children:null==z?void 0:z.map((e,t)=>(0,a.jsxs)("div",{children:[(0,a.jsx)(d.Z,{...e,className:"mt-[20px]"}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsx)(k,{title:D("cancel.cancelReason"),claimBusinessType:r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,causDtlCd:e.claimMgrpCd,causDtlList:p.claimCausCdList,changeCausDtlCd:e=>V(t,e)})]},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)))}),(0,a.jsx)(B,{buttonName:D("common.nextButtonName"),nextStep:3,handleStep:W,handleAlert:$,doValidateProcess:()=>(0,Y.CE)(z,r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,D)})]}),3===X&&(0,a.jsxs)("div",{className:"mb-[20px] mt-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:D("common.stepName.calculateAmountConfirm")}),(0,a.jsx)(en,{states:r.K.CANCEL_ACCEPT_STATE,currentStep:X,handleStep:W,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:p.claimTargetResponse.ordNo,ordAccpDtm:p.claimTargetResponse.ordAccpDtm,className:"flex justify-between py-4  border-b border-solid border-gray6 pb-[21px] pt-0"}),(0,a.jsx)(eo,{ref:g,claimBusiness:r.K.CLAIM_BUSINESS.ORDER_CANCEL,selectList:z,claimCalculateRequest:(0,_.y1)(p.claimTargetResponse,h,h,z,r.K.CLAIM_BUSINESS.ORDER_CANCEL.code),claimPaymentRequest:(0,_.qv)(p.claimTargetResponse,"추가결제",r.K.CLAIM_BUSINESS.ORDER_CANCEL.payBusinessCode),setClaimFinalAmtInfo:e=>T(e),handleError:J}),(0,a.jsx)(B,{buttonName:D("cancel.acceptButtonName"),doAfterProcess:el})]}),4===X&&(0,a.jsx)(a.Fragment,{children:E&&S?(0,a.jsxs)("div",{className:"order-change btn-fixed",children:[(0,a.jsx)(H,{ordNo:E.ordNo,claimBusinessType:r.K.CLAIM_BUSINESS.ORDER_CANCEL.code}),null==b?void 0:b.map((e,t)=>(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)(er.Z,{data:e,showStatus:!1,className:"big-thumb mb-[30px] w-full border-b pb-[30px] pt-[20px]"}),(0,a.jsx)(ea.Z,{giftList:(0,N.Ew)(S,e.ordSeq)})]})})),(0,a.jsxs)("div",{className:"mb-[50px]",children:[(0,a.jsx)("section",{className:"",children:(0,a.jsx)(ee,{isDetailsPage:!0,claimBusiness:r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,...E.claimFinalAmtInfo})}),(0,a.jsx)("section",{className:"",children:(0,a.jsx)(et.Z,{isDetailsPage:!0,claimBusiness:r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,refundCpnInfo:null===(t=E.restoreCpnInfo)||void 0===t?void 0:t.cpnInfo})})]}),(0,a.jsx)(B,{buttonName:D("common.confirm"),doAfterProcess:()=>{i(),c()}})]}):(0,a.jsx)(q.Z,{})}),(0,a.jsx)(G.Z,{CommonDialog:U,alertText:A}),(0,a.jsx)(G.Z,{CommonDialog:F,alertText:A})]}):(0,a.jsxs)("div",{className:"pc:min-h-[387px]",children:[(0,a.jsx)(q.Z,{}),(0,a.jsx)(G.Z,{CommonDialog:F,alertText:A})]})},ep=o(79844),ex=e=>{let{title:t,claimBusinessType:o,claimTargetResponse:n,handleStep:l,handleAlert:c,doAfterProcess:i,selectedOrdSeq:d,isSmartInfiniECoupon:u}=e,m=(0,x.F)("claim-page.accept"),{targetList:p,addTargetList:h,removeTargetList:f,onClickAllCheck:C,addClaimQty:g,subtractClaimQty:E,directSetClaimQty:y,countCheckedTargets:b}=M(null==n?void 0:n.claimTargetGoodsResponseList,d),[S,v]=(0,s.useState)(!1),j=(0,s.useMemo)(()=>u?4:2,[u]);(0,s.useEffect)(()=>{var e;(null==p?void 0:p.length)===1&&(null===(e=p[0])||void 0===e?void 0:e.claimPossibleQty)===1&&(p[0].isChecked=!0,i(p),l(j)),v(null==p?void 0:p.every(e=>e.isChecked))},[p]);let R=(e,t)=>{var a,s;let n=null!==(s=null===(a=e.target)||void 0===a?void 0:a.checked)&&void 0!==s&&s;if(n&&r.K.CLAIM_BUSINESS.ORDER_CANCEL.code!==o&&(0,Y.ZG)(p,t)){c(m("common.notSameDeliNoAlertMsg"));return}n?h(t):f(t.ordSeq)},T=e=>(0,a.jsx)(ei,{claimQty:e.claimQty,maxQty:e.claimPossibleQty,addClaimQty:()=>g(e.ordSeq),subtractClaimQty:()=>E(e.ordSeq),directSetClaimQty:t=>y(e.ordSeq,t)}),A=t.indexOf("을"),_=t.substring(0,A),I=t.substring(A);return(0,a.jsxs)("div",{children:[(0,a.jsxs)("p",{className:"head-line1 mb-[40px] pt-[20px] text-center font-medium",children:[(0,a.jsx)("b",{className:"font-bold",children:_}),I]}),(0,a.jsxs)("div",{className:"mx-[-20px] flex items-center bg-gray9 px-[20px] py-[16px]",children:[(0,a.jsx)(V.Z,{checked:S,onChange:()=>{if(!S&&r.K.CLAIM_BUSINESS.ORDER_CANCEL.code!==o&&(0,Y.ZG)(p,p[0],!0)){c(m("common.notSameDeliNoAlertMsg"));return}v(!S),C(!S)},type:"checkbox",value:"option-one"}),(0,a.jsx)(X.Z,{htmlFor:"all-check",className:"body3 font-medium",children:m("common.allCheck")})]}),(0,a.jsx)("section",{className:"",children:null==p?void 0:p.map((e,t)=>(0,a.jsx)("div",{className:"border-b border-gray7 py-[20px]",children:(0,a.jsx)(er.Z,{data:e,isChecked:e.isChecked,showCheckBox:!0,onChangeCheckbox:t=>R(t,e),counter:T(e),isPopup:!0,className:"gap-2",size:"small",id:(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)})},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)))}),(0,a.jsx)(B,{nextStep:j,handleStep:e=>{l(e)},doValidateProcess:()=>(0,Y.uv)(p,n.sctnCnclPsbYn,m),doAfterProcess:()=>{i(p)},handleAlert:c,buttonName:m("common.nextButtonName"),disabled:1>b()})]})},eh=o(10467),eN=e=>{let{exchangeItmNo:t,exchangeItmList:o,changeExchangeItm:s}=e,n=(0,x.F)("claim-page.accept");return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Z,{className:"head-line2 mb-[16px] font-bold",title:n("exchange.optionSelectTitle")}),o&&(0,a.jsx)(D.Z,{options:(0,N.pm)(o,"itmNo","itmNm"),className:"dropdown-custom w-full",placeholder:n("exchange.optionSelectPlaceholder"),value:t||null,onChange:e=>{let t=o.filter(t=>t.itmNo===e);s(e,t[0].itmNm)}})]})},ef=o(57979),eC=e=>{let{currentFiles:t,addFile:o,deleteFile:n,handleAlert:r,index:l}=e,c=(0,x.F)("claim-page.accept");(0,s.useEffect)(()=>{d((null==t?void 0:t.map(i))||[])},[]);let i=e=>({file:e,status:"new",preview:URL.createObjectURL(e)}),{setFiles:d,Uploader:u}=(0,ef.Z)("files_".concat(l),{type:"image",limit:5,accept:"image/png, image/jpeg, image/gif",validate:e=>{let{isPass:t,alertText:o}=(0,Y.ax)(e,c);return t||r(o),t},addFile:e=>o(e),deleteFile:e=>n(e)});return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(U.Z,{className:"head-line2 mb-[16px] font-bold",title:c("common.fileUploadTitle")}),(0,a.jsx)("div",{className:"mb-[12px]",children:(0,a.jsx)(u,{})}),(0,a.jsx)("p",{className:"after_dot label1 pl-[8px] text-gray5 after:top-[8px] after:bg-gray5",children:c("common.invalidFileInfoMsg")})]})},eg=o(80670),eE=e=>{let{ordNo:t,dlvpSeq:o,ordSeq:n,closeModal:l,callback:c}=e,{processing:u,setProcessing:m,claimTarget:p,isGift:g,dlvpInfo:E,handleDlvpInfo:y,withdrawalDlvpInfo:b,handleWithdrawalDlvpInfo:S,additionalFeeRef:v,claimDetailsInfo:j,claimPrdList:R,setClaimDetailReq:T,claimFinalAmtInfo:A,setClaimFinalAmtInfo:M,alertText:w,setAlertText:D,init:P}=I(),{selectList:F,handleCausDtlCode:z,handleCausDtlRsn:Q,initClaimCausInfo:V,addFile:X,deleteFile:W,makeExchangeSelectList:J,handleExchangeCausCode:ee,handleExchangeItmInfo:et,isAllNonReturnable:ea}=O(),{step:el,handleStep:ec}=L(),ei=(0,x.F)("claim-page.accept"),ed=(0,Z.Z)({className:"pop-alert"}),em=(0,Z.Z)({className:"pop-alert",afterClose:()=>{l()}}),{alert:ef}=(0,C.Z)();(0,s.useEffect)(()=>{(0,ep.y_)(t,o).then(e=>{(null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS?P(e.payload):ey((0,N.$d)(e,ei("common.error.systemErrorMsg")))})},[]);let eE=e=>{ef({message:e})},ey=e=>{ef({message:e,handleOk:l})},eb=async()=>{var e,o;m(!0);let a=await (0,_.Ll)(t,null!==(o=null==p?void 0:null===(e=p.claimTargetResponse)||void 0===e?void 0:e.ordMediaCd)&&void 0!==o?o:"",r.K.CLAIM_BUSINESS.EXCHANGE.code,F,E,b,["withdrawalDeliNo","shipmentDeliNo"],A);if(!v.current)return;let{isExistAdditionalPayment:s,callPg:n,validAdditionalFeeSelect:l}=v.current;if(!l()){eE(ei("common.emptyPayListAlertMsg"));return}s?((0,es.t_)("claimRequest",a),n()):u||(0,ep.s)(a).then(e=>{(null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS?eS(e.payload):ey((0,N.$d)(e,ei("common.error.systemErrorMsg")))}).finally(()=>m(!1))},eS=e=>{let{ordNo:t,claimNo:o}=e;ec(5),T({ordNo:t,claimNo:o})};return p?(0,a.jsxs)(a.Fragment,{children:[1===el&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"교환 신청"}),(0,a.jsx)(ex,{title:ei("exchange.goodsSelectTopMsg"),claimBusinessType:r.K.CLAIM_BUSINESS.EXCHANGE.code,claimTargetResponse:(0,_.eg)(p.claimTargetResponse),handleStep:ec,handleAlert:eE,doAfterProcess:e=>{let t=e.filter(e=>e.isChecked);(0,h.MB)(t.map(e=>({goodsNo:e.goodsNo,itmNo:[e.itmNo],stkQty:e.claimQty}))).then(e=>{if(null===e||(0,N.yD)(e)){ey(ei("common.error.systemErrorMsg"));return}J(t,e)})},selectedOrdSeq:n})]}),2===el&&(0,a.jsxs)("div",{className:"mb-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"회수/배송지 선택"}),(0,a.jsx)(en,{states:r.K.EXCHANGE_ACCEPT_STATES,currentStep:el,handleStep:ec,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:p.claimTargetResponse.ordNo,ordAccpDtm:p.claimTargetResponse.ordAccpDtm,className:"mx-[-20px] mt-[20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0"}),(0,a.jsx)("section",{className:"",children:(0,a.jsx)("div",{className:"flex-col space-y-5",children:null==F?void 0:F.map((e,t)=>(0,a.jsx)(er.Z,{data:e,showWthdInfo:!0,className:"big-thumb mb-[30px] w-full border-b pb-[30px] pt-[20px] border-b py-[20px] last:border-b-0 last:pb-0"},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)))})}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{children:b&&!ea&&(0,a.jsx)(eh.Z,{title:ei("common.withdrawalDlvpTitle"),className:"box-delivery",showButton:!g,buttonName:ei("common.withdrawalDlvpButtonName"),dlvpInfo:b,isGift:g,comnFrdrCogoMethodCdList:p.codeMap.ME040,deliMsgCdList:p.codeMap.ME039,callBack:S})}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsx)("div",{children:E&&(0,a.jsx)(eh.Z,{title:ei("common.dlvpTitle"),className:"box-delivery",showButton:!g,buttonName:ei("common.dlvpButtonName"),dlvpInfo:E,isGift:g,comnFrdrCogoMethodCdList:p.codeMap.ME040,deliMsgCdList:p.codeMap.ME039,callBack:y})}),g&&!ea&&(0,a.jsx)(i.ge,{className:"mt-10",children:(0,a.jsx)(i.vC,{children:ei("exchange.giftDlvpNotiMsg")})})]}),(0,a.jsx)(B,{nextStep:3,handleStep:ec,doAfterProcess:V,buttonName:ei("common.nextButtonName")})]}),3===el&&(0,a.jsxs)("div",{className:"mb-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"사유 선택"}),(0,a.jsx)(en,{states:r.K.EXCHANGE_ACCEPT_STATES,currentStep:el,handleStep:ec,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:p.claimTargetResponse.ordNo,ordAccpDtm:p.claimTargetResponse.ordAccpDtm,className:"mx-[-20px] mt-[20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0"}),(0,a.jsx)("section",{className:"pt-[30px]",children:null==F?void 0:F.map((e,t)=>(0,a.jsxs)("div",{className:"mb-5 border-b border-gray4 pb-5 last-of-type:mb-0 last-of-type:border-b-0 last-of-type:pb-0",children:[(0,a.jsx)(d.Z,{...e}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsxs)(eg.l0,{className:"mt-5",children:[(0,a.jsx)(eg.p7,{children:(0,a.jsx)(k,{title:ei("exchange.causSelectTitle"),causCd:e.claimLgrpCd,claimBusinessType:r.K.CLAIM_BUSINESS.EXCHANGE.code,causDtlCd:e.claimMgrpCd,causDtlRsn:e.claimCausEtcCont,causList:p.codeMap.OM047,causDtlList:p.codeMap.OM006,changeCausCd:e=>ee(t,e),changeCausDtlCd:e=>z(t,e),changeCausDtlRsn:e=>Q(t,e)})}),e.showOptionSelect&&(0,a.jsx)(eg.p7,{children:(0,a.jsx)(eN,{exchangeItmNo:e.exchangeItmNo,exchangeItmList:e.exchangeItmList,changeExchangeItm:(e,o)=>et(t,e,o)})}),(0,a.jsxs)(eg.p7,{children:[(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsx)(eC,{index:t,currentFiles:e.attachFileList,addFile:e=>X(t,e),deleteFile:e=>W(t,e),handleAlert:eE})]})]})]},t))}),(0,a.jsx)(B,{nextStep:4,handleStep:ec,handleAlert:eE,doValidateProcess:()=>(0,Y.CE)(F,r.K.CLAIM_BUSINESS.EXCHANGE.code,ei),buttonName:ei("common.nextButtonName")})]}),4===el&&(0,a.jsxs)("div",{className:"mb-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"최종 금액 확인"}),(0,a.jsx)(en,{states:r.K.EXCHANGE_ACCEPT_STATES,currentStep:el,handleStep:ec,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:p.claimTargetResponse.ordNo,ordAccpDtm:p.claimTargetResponse.ordAccpDtm,className:"mx-[-20px] mt-[20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0"}),(0,a.jsx)(eo,{page:"exchange",ref:v,claimBusiness:r.K.CLAIM_BUSINESS.EXCHANGE,claimCalculateRequest:(0,_.y1)(p.claimTargetResponse,E,b,F,r.K.CLAIM_BUSINESS.EXCHANGE.code),claimPaymentRequest:(0,_.qv)(p.claimTargetResponse,ei("common.paymentRequestName"),r.K.CLAIM_BUSINESS.EXCHANGE.payBusinessCode),setClaimFinalAmtInfo:e=>M(e),handleError:ey}),(0,a.jsx)(B,{handleAlert:eE,doAfterProcess:eb,buttonName:ei("exchange.acceptButtonName")})]}),5===el&&(0,a.jsx)(a.Fragment,{children:j&&R?(0,a.jsxs)("div",{className:"order-change btn-fixed",children:[(0,a.jsx)(H,{ordNo:j.ordNo,claimBusinessType:r.K.CLAIM_BUSINESS.EXCHANGE.code}),null==R?void 0:R.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("section",{className:"",children:(0,a.jsx)("div",{className:"mb-5 border-b border-gray4 pb-5 last-of-type:mb-0 last-of-type:border-b-0 last-of-type:pb-0",children:(0,a.jsx)(er.Z,{data:e,showStatus:!1,className:"big-thumb mb-[30px] w-full border-b pb-[30px] pt-[20px]"})})},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)),(0,a.jsx)(f.Z,{})]})),(0,a.jsxs)("section",{className:"",children:[(0,a.jsx)(U.Z,{className:"head-line2 mb-[16px] font-bold",title:ei("exchange.exchangeDeliveryFee")}),(0,a.jsx)($,{data:[{text:ei("exchange.exchangeDeliveryFee"),price:j.claimFinalAmtInfo.addtionPayAmt.toString(),unit:"원"}],className:"mb-[20px]"})]}),(0,a.jsx)(B,{buttonName:ei("common.confirm"),doAfterProcess:()=>{c(),l()}})]}):(0,a.jsx)(q.Z,{})}),(0,a.jsx)(G.Z,{CommonDialog:ed,alertText:w}),(0,a.jsx)(G.Z,{CommonDialog:em,alertText:w})]}):(0,a.jsxs)("div",{className:"pc:min-h-[387px]",children:[(0,a.jsx)(q.Z,{}),(0,a.jsx)(G.Z,{CommonDialog:em,alertText:w})]})},ey=o(6444);let eb=async e=>{let{ordNo:t,orderSales:o}=e;return(await u._.get("/api/order/v1/eticket/eticket/inquiry",{params:{order_no:t,order_sales:o}})).payload||{}},eS=async e=>(await u._.get("/api/order/v1/eticket/eticket/oinquiry",{params:{order_NO:e}})).payload||{},ev={UN_USED_COUPON:"0005"};var ej=e=>{var t;let{ordNo:o,dlvpSeq:n,ordSeq:c,closeModal:u,callback:m}=e,{processing:p,setProcessing:h,claimTarget:g,isGift:E,dlvpInfo:y,withdrawalDlvpInfo:b,handleWithdrawalDlvpInfo:S,additionalFeeRef:v,claimDetailsInfo:j,setClaimDetailReq:R,claimPrdList:T,claimAePrdList:A,claimFinalAmtInfo:M,setClaimFinalAmtInfo:w,couponInfo:D,setCouponInfo:P,alertText:F,isSmartInfiniECoupon:U,init:z}=I(),{selectList:Q,makeSelectList:V,handleCausCode:X,handleCausDtlCode:W,handleCausDtlRsn:$,initClaimCausInfo:J,addFile:el,deleteFile:ec,isAllNonReturnable:ei}=O(),{step:ed,handleStep:em}=L(),ep=(0,x.F)("claim-page.accept"),eN=(0,l.useRouter)(),ef=(0,Z.Z)({className:"pop-alert"}),eE=(0,Z.Z)({className:"pop-alert",afterClose:()=>{u()}}),{alert:eb}=(0,C.Z)();(0,s.useEffect)(()=>{(0,ey.OQ)(o,n).then(e=>{if((null==e?void 0:e.code)!==K.YC.RESULT_CODE_SUCCESS){eR((0,N.$d)(e,ep("common.error.systemErrorMsg")));return}z(e.payload)})},[o,n,c]);let ej=e=>{eb({message:e})},eR=e=>{eb({message:e,handleOk:u})},eT=async()=>{var e,t;if(U){let{inquiryList:e}=await eS(o),t=new Set(Q.map(e=>e.eordSalesNo));if(null==e?void 0:e.some(e=>t.has(e.order_sales)&&e.return_div!==ev.UN_USED_COUPON)){eb({message:ep("returnECoupon.usedCoupon"),handleOk:()=>eN.push("claim/order-inquiry-detail/".concat(o))});return}}h(!0);let a=await (0,_.Ll)(o,null!==(t=null==g?void 0:null===(e=g.claimTargetResponse)||void 0===e?void 0:e.ordMediaCd)&&void 0!==t?t:"",r.K.CLAIM_BUSINESS.RETURN.code,Q,y,b,["withdrawalDeliNo"],M,D?[{cpnNo:D.cpnIsuNo}]:null);if(!v.current)return;let{isExistAdditionalPayment:s,callPg:n,validAdditionalFeeSelect:l}=v.current;if(!l()){ej(ep("common.emptyPayListAlertMsg"));return}s?((0,es.t_)("claimRequest",a),n()):p||(0,ey._h)(a).then(e=>{(null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS?eA(e.payload):eR((0,N.$d)(e,ep("common.error.systemErrorMsg")))}).finally(()=>h(!1))},eA=e=>{em(5),R((0,_.kw)(e,r.K.CLAIM_BUSINESS.RETURN.code))};return g?(0,a.jsxs)(a.Fragment,{children:[1===ed&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"반품 신청"}),(0,a.jsx)(ex,{title:ep("return.goodsSelectTopMsg"),claimBusinessType:r.K.CLAIM_BUSINESS.RETURN.code,claimTargetResponse:(0,_.eg)(g.claimTargetResponse),handleStep:em,doAfterProcess:V,handleAlert:ej,selectedOrdSeq:c,isSmartInfiniECoupon:U})]}),2===ed&&(0,a.jsxs)("div",{className:"mb-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"회수지 선택"}),(0,a.jsx)(en,{states:r.K.RETURN_ACCEPT_STATE,currentStep:ed,handleStep:em,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:g.claimTargetResponse.ordNo,ordAccpDtm:g.claimTargetResponse.ordAccpDtm,ecpnNo:g.claimTargetResponse.claimTargetGoodsResponseList[0].ecpnNo,className:"mx-[-20px] mt-[20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0"}),(0,a.jsx)("section",{className:"",children:(0,a.jsx)("div",{className:"flex-col space-y-5",children:null==Q?void 0:Q.map((e,t)=>(0,a.jsx)(er.Z,{data:e,showWthdInfo:!0,className:"big-thumb mb-[30px] w-full border-b border-b py-[20px] pb-[30px] last:border-b-0 last:pb-0"},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)))})}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsxs)("div",{className:"",children:[(0,a.jsx)("div",{className:"mt-10",children:b&&!ei&&(0,a.jsx)(eh.Z,{title:ep("common.withdrawalDlvpTitle"),className:"box-delivery",showButton:!E,buttonName:ep("common.withdrawalDlvpButtonName"),dlvpInfo:b,isGift:E,comnFrdrCogoMethodCdList:g.codeMap.ME040,deliMsgCdList:g.codeMap.ME039,callBack:S})}),E&&!ei&&(0,a.jsx)(i.ge,{className:"mt-10",children:(0,a.jsx)(i.vC,{children:ep("return.giftDlvpNotiMsg")})})]}),(0,a.jsx)(B,{nextStep:3,handleStep:em,doAfterProcess:J,buttonName:ep("common.nextButtonName")})]}),3===ed&&(0,a.jsxs)("div",{className:"mb-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"사유 선택"}),(0,a.jsx)(en,{states:r.K.RETURN_ACCEPT_STATE,currentStep:ed,handleStep:em,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:g.claimTargetResponse.ordNo,ordAccpDtm:g.claimTargetResponse.ordAccpDtm,ecpnNo:g.claimTargetResponse.claimTargetGoodsResponseList[0].ecpnNo,className:"mx-[-20px] mt-[20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0"}),(0,a.jsx)("section",{className:"pt-[30px]",children:null==Q?void 0:Q.map((e,t)=>(0,a.jsxs)("div",{className:"mb-5 border-b border-gray4 pb-5 last-of-type:mb-0 last-of-type:border-b-0 last-of-type:pb-0",children:[(0,a.jsx)(d.Z,{...e}),(0,a.jsx)(f.Z,{lineThin:!0,full:!0,className:"bg-gray9 mo:h-[10px] pc:mx-[-20px]"}),(0,a.jsxs)(eg.l0,{className:"mt-5",children:[(0,a.jsx)(eg.p7,{children:(0,a.jsx)(k,{title:ep("return.causSelectTitle"),causCd:e.claimLgrpCd,claimBusinessType:r.K.CLAIM_BUSINESS.RETURN.code,causDtlCd:e.claimMgrpCd,causDtlRsn:e.claimCausEtcCont,causList:g.codeMap.OM047,causDtlList:g.codeMap.OM006,changeCausCd:e=>X(t,e),changeCausDtlCd:e=>W(t,e),changeCausDtlRsn:e=>$(t,e)})}),(0,a.jsx)(eg.p7,{children:(0,a.jsx)(eC,{index:t,currentFiles:e.attachFileList,addFile:e=>el(t,e),deleteFile:e=>ec(t,e),handleAlert:ej})})]})]},t))}),(0,a.jsx)(B,{nextStep:4,handleStep:em,handleAlert:ej,doValidateProcess:()=>(0,Y.CE)(Q,r.K.CLAIM_BUSINESS.RETURN.code,ep),buttonName:ep("common.nextButtonName")})]}),4===ed&&(0,a.jsxs)("div",{className:"mb-[20px]",children:[(0,a.jsx)("strong",{className:"absolute left-[24px] top-[24px] text-headline2 font-medium",children:"최종 금액 확인"}),(0,a.jsx)(en,{states:r.K.RETURN_ACCEPT_STATE,currentStep:ed,handleStep:em,isSmartInfiniECoupon:U,className:"absolute right-[68px] top-[27px]"}),(0,a.jsx)(eu.Z,{ordNo:g.claimTargetResponse.ordNo,ordAccpDtm:g.claimTargetResponse.ordAccpDtm,ecpnNo:g.claimTargetResponse.claimTargetGoodsResponseList[0].ecpnNo,className:"mx-[-20px] mt-[20px] border-b border-solid border-gray6 px-[20px] pb-[20px] pt-0",isSmartInfiniECoupon:U}),(0,a.jsx)(eo,{page:"refund",ref:v,claimBusiness:r.K.CLAIM_BUSINESS.RETURN,claimCalculateRequest:(0,_.y1)(g.claimTargetResponse,y,b,Q,r.K.CLAIM_BUSINESS.RETURN.code),claimPaymentRequest:(0,_.qv)(g.claimTargetResponse,"추가결제",r.K.CLAIM_BUSINESS.RETURN.payBusinessCode),setClaimFinalAmtInfo:e=>w(e),setUsingCoupon:e=>P(e),handleError:eR}),(0,a.jsx)(B,{buttonName:ep("return.acceptButtonName"),doAfterProcess:eT})]}),5===ed&&(0,a.jsx)(a.Fragment,{children:j&&T?(0,a.jsxs)("div",{className:"order-change btn-fixed",children:[(0,a.jsx)(H,{ordNo:j.ordNo,claimBusinessType:r.K.CLAIM_BUSINESS.RETURN.code}),null==T?void 0:T.map((e,t)=>(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("section",{className:"",children:[(0,a.jsx)("div",{className:"mb-5 border-b border-gray4 pb-5 last-of-type:mb-0 last-of-type:border-b-0 last-of-type:pb-0",children:(0,a.jsx)(er.Z,{data:e,showStatus:!1,className:"big-thumb mb-[30px] w-full border-b pb-[30px] pt-[20px]"})}),(0,a.jsx)(ea.Z,{giftList:(0,N.Ew)(A,e.ordSeq)})]},(0,N.km)(e.ordNo,e.ordSeq,e.ordProcSeq)),(0,a.jsx)(f.Z,{})]})),(0,a.jsx)("section",{className:"",children:(0,a.jsx)(ee,{isDetailsPage:!0,claimBusiness:r.K.CLAIM_BUSINESS.RETURN.code,...j.claimFinalAmtInfo})}),(0,a.jsx)("section",{className:"",children:(0,a.jsx)(et.Z,{isDetailsPage:!0,claimBusiness:r.K.CLAIM_BUSINESS.RETURN.code,refundCpnInfo:null===(t=j.restoreCpnInfo)||void 0===t?void 0:t.cpnInfo})}),(0,a.jsx)(B,{buttonName:ep("common.confirm"),doAfterProcess:()=>{m(),u()}})]}):(0,a.jsx)(q.Z,{})}),(0,a.jsx)(G.Z,{CommonDialog:ef,alertText:F}),(0,a.jsx)(G.Z,{CommonDialog:eE,alertText:F})]}):(0,a.jsxs)("div",{className:"pc:min-h-[387px]",children:[(0,a.jsx)(q.Z,{}),(0,a.jsx)(G.Z,{CommonDialog:eE,alertText:F})]})},eR=e=>{let{payAmt:t,mileage:o}=e,n=(0,x.F)("claim-page"),r=(0,s.useMemo)(()=>t-o,[t,o]);return(0,a.jsx)("section",{className:"border-b border-solid border-gray7 pb-[30px] pt-[20px]",children:(0,a.jsx)($,{data:(()=>{let e=[{text:n("totalPayAmt"),price:(0,Q.addCommas)(r.toString()),unit:n("won")}];return e.push({text:n("deliveryFee"),price:(0,Q.addCommas)(t.toString()),unit:n("won")}),o>0&&e.push({text:n("toBuyMilg"),price:"-".concat((0,Q.addCommas)(o.toString())),unit:n("point")}),e})(),type:"total",className:"mo:pt-5"})})};let eT=(0,s.forwardRef)((e,t)=>{let{ordNo:o,claimNo:n,closeModal:c}=e,i=(0,x.F)("claim-page.fee-payment"),d=(0,l.usePathname)(),{alert:u}=(0,C.Z)(),m=(0,s.useRef)(null),[p,f]=(0,s.useState)(null),[g,E]=(0,s.useState)(r.K.CLAIM_BUSINESS.EXCHANGE.code),[y,b]=(0,s.useState)(null),[S,v]=(0,s.useState)(0);(0,s.useImperativeHandle)(t,()=>({doPay:R})),(0,s.useEffect)(()=>{(0,h.U)({ordNo:o,claimNo:n}).then(e=>{if((null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS){let t=e.payload;f(t),E(t.claimTargetResponse.claimTargetGoodsResponseList[0].ordDtlGbCd),j()}else u({message:i("doPayDeliveryFeeFailMsg"),handleOk:()=>c()})})},[]);let j=()=>{(0,h.X0)().then(e=>{(null==e?void 0:e.code)===K.YC.RESULT_CODE_SUCCESS?b(null==e?void 0:e.payload):u({message:i("doPayDeliveryFeeFailMsg"),handleOk:()=>c()})})},R=()=>{if(!m.current){u({message:i("doPayDeliveryFeeFailMsg"),handleOk:()=>c()});return}let{readyToOrder:e}=m.current.getPaymentRequest();if(!e){u({message:i("emptyPayListAlertMsg")});return}let t=A(),o=T();(0,es.t_)("claimRequest",o),m.current.pay(t)},T=()=>({ordNo:o,claimNo:n,systemType:r.K.SYSTEM.FO.code,mbrNo:null==p?void 0:p.claimTargetResponse.mbrNo,ordMediaCd:null==p?void 0:p.claimTargetResponse.ordMediaCd,claimBusinessType:r.K.CLAIM_BUSINESS.DELIVERY_FEE_PAYMENT.code,claimGoodsList:null==p?void 0:p.claimTargetResponse.claimTargetGoodsResponseList}),A=()=>({ordNo:o,goodsNm:i("deliveryFeePayment"),ordManNm:null==p?void 0:p.claimTargetResponse.ordManNm,ordmnCellNo:"".concat(null==p?void 0:p.claimTargetResponse.ordManCellSctNo).concat(null==p?void 0:p.claimTargetResponse.ordManCellTxnoNo).concat(null==p?void 0:p.claimTargetResponse.ordManCellEndNo),ordmnEmailAddr:null==p?void 0:p.claimTargetResponse.ordManEmailAddr,mbrNo:null==p?void 0:p.claimTargetResponse.mbrNo,ordMediaCd:(0,N.SA)(),totOrdAmt:null==p?void 0:p.addtionPayAmt,taxFreeAmt:(null==p?void 0:p.claimTargetResponse.claimTargetGoodsResponseList[0].bmanKindCd)===r.N.VD004.DUTY_FREE.code?(null==p?void 0:p.addtionPayAmt)-S:0,payBusiness:r.K.CLAIM_BUSINESS.DELIVERY_FEE_PAYMENT.payBusinessCode,failUrl:d,successUrl:g?_():d}),_=()=>"/claim".concat((0,N.jC)(r.K.CLAIM_BUSINESS,g).successUrl,"?ordNo=").concat(o,"&claimNo=").concat(n,"&prevUrl=").concat(d);return p&&y?(0,a.jsx)(a.Fragment,{children:(0,a.jsxs)("div",{className:"order-change btn-fixed",children:[(0,a.jsx)(eu.Z,{ordNo:p.ordNo,ordAccpDtm:p.ordAccpDtm,className:"border-b border-solid border-gray6 pb-[21px] pt-0"}),(0,a.jsx)("section",{className:"border-b border-solid border-gray7 pb-[30px] pt-[20px]",children:(0,a.jsxs)("div",{className:" flex justify-between",children:[(0,a.jsx)("p",{className:"body3 font-medium text-gray3",children:i("additionalPayAmt")}),(0,a.jsxs)("p",{className:"body3 font-medium",children:[(0,Q.addCommas)(p.addtionPayAmt.toString()),i("won")]})]})}),(0,a.jsx)(z.Z,{ref:m,hasAdditionalClass:!0,mainPayMethodInfoList:y.mainPayMethodInfoList,subPayMethodInfoList:y.subPayMethodInfoList,totalOrderAmount:p.addtionPayAmt,onMileageChange:v,className:"mt-[10px] border-b border-gray7 mo:pt-[20px] pc:pb-[30px]",page:"popup"}),(0,a.jsx)(eR,{payAmt:p.addtionPayAmt,mileage:S})]})}):(0,a.jsx)("div",{className:"pc:min-h-[500px]",children:(0,a.jsx)(q.Z,{})})});var eA=o(55009),e_=o(12759),eI=o(17914),eM=o(83057),eO=o(26645),eL=o(71096),ew=o.n(eL);let eD=async e=>await u._.post("/api/order/v1/review/updatePurCfmDtm",{body:e});var eP=e=>{let{ordNo:t,claimNo:o,buttonList:i,screenType:d,prstStatCd:u,goodsImg:m,sngGoodsYn:h,brandNm:N,goodsNm:f,itmNm:g,itmNo:E,ordQty:y,salePrc:b,goodsNo:S,ordSeq:j,ordProcSeq:R,dlvpSeq:T,deliNo:A,deliSeq:_,prestNm:I,ordDtlStatCd:M,deliFnshDtm:O,purCfmDtm:L,purCfmYn:w,callback:D,ordMediaCd:P,optGbCd:F,possiblePurchaseConfirmation:U=!0,deliList:k=[],mainPayWayCd:B,mvotOrdYn:Z,goodsTypCd:G,ecpnLinkGbCd:K,eordSalesNo:H}=e,q=(0,x.F)("claim-page"),{alert:Y}=(0,C.Z)(),[z,Q]=(0,s.useState)([]),[V,X]=(0,s.useState)([]),W=(0,l.useRouter)(),$=(0,l.usePathname)(),J=(0,s.useRef)(null),[ee,et]=(0,s.useState)(""),[eo,ea]=(0,s.useState)(""),{forcedModal:es}=(0,eO.Z)(),en=ew()(new Date),er=ew()(O),el=7-en.diff(er,"day"),ec=G===p._9.CPN_GOODS.code&&K===r.N.VD015.SMART_INFINI.code,ei=e=>{"N"===Z?et(e):Y({message:q("mvotOrdYMsg")})},ed=(e,t)=>{if(eR(t),"alert"===e){et(e);return}"N"===Z?ea(e):Y({message:q("mvotOrdYMsg")})},eu=()=>{et("")},ex=()=>{et("")},eh=()=>{D(),ea("")},eN=()=>{D(),ea("")},ef=()=>{eB({ordNo:t,deliNo:A,deliFnshDtm:O,deliSeq:_,ordSeq:j})},eC=()=>({ordNo:t,dlvpSeq:T,ordSeq:Number(j),claimNo:o,closeModal:ex,callback:D}),eg=[{ordNo:t,ordSeq:Number(j),ordProcSeq:Number(R),goodsNo:S,goodsNm:f,brandNm:N,deliFnshDtm:O,imgUrl:m,itmNo:E,stdCtgNo:S,dday:Math.floor((new Date(O).valueOf()-new Date().valueOf())/864e5+30)}],[eS,eR]=(0,s.useState)("");(0,s.useEffect)(()=>{let e=null==i?void 0:i.filter(e=>[r.N.ST007.ORDER_CANCEL.code,r.N.ST007.PAYMENT_WAIT.code,r.N.ST007.OPTION_CHANGE.code,r.N.ST007.SHIPPING_FINISH.code,r.N.ST007.WRITE_A_REVIEW.code,r.N.ST007.CANCEL_DETAILS.code,r.N.ST007.EXCHANGE_DETAILS.code,r.N.ST007.RETURN_DETAILS.code,r.N.ST007.DELIVERY_FEE_PAYMENT.code,r.N.ST007.REQUEST_FOR_EXCHANGE.code,r.N.ST007.REQUEST_FOR_RETURN.code,r.N.ST007.PURCHASE_CONFIRMATION.code,r.N.ST007.CANCEL_EXCHANGE.code,r.N.ST007.CANCEL_RETURN.code].includes(e.cd));if(B===p.sw.BANK_PAY.code){var t;e=null===(t=e||[])||void 0===t?void 0:t.filter(e=>e.cd!==r.N.ST007.PAYMENT_WAIT.code)}eL()||(e=null==e?void 0:e.filter(e=>e.cd!==r.N.ST007.OPTION_CHANGE.code)),"Y"!==w||ec||(e=null==e?void 0:e.filter(e=>e.cd!==r.N.ST007.REQUEST_FOR_EXCHANGE.code&&e.cd!==r.N.ST007.REQUEST_FOR_RETURN.code));let o=[],a=[];null==e||e.forEach(e=>{e.cd!==r.N.ST007.REQUEST_FOR_EXCHANGE.code&&e.cd!==r.N.ST007.REQUEST_FOR_RETURN.code?o.push(e):a.push(e)}),Q(o),X(a)},[i]);let eL=()=>"RECEIVE"!==d||"RECEIVE"===d&&u!==r.N.OM044.REQUEST.code,eP=()=>"?ordNo=".concat(t,"&claimNo=").concat(o,"&prevUrl=").concat($),eF=async()=>{if("RECEIVE"===d||"SEND"===d)"0000"===(await (0,eA.t)({ordDtlStatCd:M,targetOrdDtlStatCd:r.N.OM005.DELIVERY_COMPLETED.code,systemType:r.K.SYSTEM.FO.code,ordNo:t,deliveryProcessInfo:{ordNo:t,deliNo:A,deliSeq:_}})).code&&(D(),Y({message:q("processDelivery")}));else for(let[e,t]of k.entries()||[])try{let o=await (0,eA.t)(eU(t));if("0000"!==o.code){Y({message:o.message});return}e===k.length-1&&Y({message:q("processDelivery"),handleOk:()=>{D(),et("")}})}catch(e){console.error("Error processing delivery:",e),Y({message:"An error occurred during delivery processing."})}},eU=e=>({ordDtlStatCd:M,targetOrdDtlStatCd:r.N.OM005.DELIVERY_COMPLETED.code,systemType:r.K.SYSTEM.FO.code,ordNo:t,deliveryProcessInfo:{ordNo:t,deliNo:e.deliNo,deliSeq:e.deliSeq}}),ek=async e=>{switch(e){case r.N.ST007.ORDER_CANCEL.code:ei(r.N.ST007.ORDER_CANCEL.code);break;case r.N.ST007.OPTION_CHANGE.code:if("Y"===h){Y({message:q("optionChangeFail")});return}if("20"===F){Y({message:q("optionGbCdChangeFail")});return}ei(r.N.ST007.OPTION_CHANGE.code);break;case r.N.ST007.SHIPPING_CHECK.code:ei(r.N.ST007.SHIPPING_CHECK.code);break;case r.N.ST007.SHIPPING_FINISH.code:ei(r.N.ST007.SHIPPING_FINISH.code);break;case r.N.ST007.WRITE_A_REVIEW.code:es.open({revGoodsNo:S,ordNo:t,ordSeq:Number(j),itmNo:E});break;case r.N.ST007.CANCEL_DETAILS.code:W.push("/claim/cancel-detail".concat(eP()));break;case r.N.ST007.EXCHANGE_DETAILS.code:W.push("/claim/exchange-detail".concat(eP()));break;case r.N.ST007.RETURN_DETAILS.code:W.push("/claim/return-detail".concat(eP()));break;case r.N.ST007.DELIVERY_FEE_PAYMENT.code:ei(r.N.ST007.DELIVERY_FEE_PAYMENT.code);break;case r.N.ST007.REQUEST_FOR_EXCHANGE.code:ei(r.N.ST007.REQUEST_FOR_EXCHANGE.code);break;case r.N.ST007.REQUEST_FOR_RETURN.code:if(ec&&(await eb({ordNo:t,orderSales:H})).return_div!==ev.UN_USED_COUPON){Y({message:q("e-coupon.usedCoupon"),handleOk:()=>window.location.reload()});break}ei(r.N.ST007.REQUEST_FOR_RETURN.code);break;case r.N.ST007.PURCHASE_CONFIRMATION.code:U?ei(r.N.ST007.PURCHASE_CONFIRMATION.code):Y({message:"교환/반품 진행 중에는 구매확정이 불가능합니다. 교환/반품 완료 후 구매확정을 진행해 주세요."});break;case r.N.ST007.CANCEL_EXCHANGE.code:eG();break;case r.N.ST007.CANCEL_RETURN.code:eZ();break;case r.N.ST007.PAYMENT_WAIT.code:W.replace("/claim/order-inquiry-detail/".concat(t));break;default:console.error("잘못된 접근")}},eB=async e=>{try{await eD(e),D(),et("")}catch(e){console.error(e)}},eZ=async()=>{try{let e=await (0,ey.tb)({ordNo:t,claimNo:o,claimBusinessType:r.K.CLAIM_BUSINESS.RETURN_WITHDRAWAL.code,systemType:r.K.SYSTEM.FO.code,ordMediaCd:P});if("0000"!==e.code){ed("alert",e.message);return}ed("exchangeOrReturn","반품이 취소되었습니다")}catch(e){ed("alert",e.message)}},eG=async()=>{let e=await (0,ep.ZP)({ordNo:t,claimNo:o,ordMediaCd:P,systemType:r.K.SYSTEM.FO.code,claimBusinessType:r.N.OM003.EXCHANGE_WITHDRAWAL.code});if("0000"!==e.code){ed("alert",e.message);return}ed("exchangeOrReturn","교환이 취소되었습니다.")};return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)(n.$_,{grid:"grid02",className:"flex-wrap gap-2 mo:mt-5 pc:w-200 pc:justify-end [&>button]:grow",children:[V.map(e=>(0,a.jsx)(n.zx,{size:"medium",variant:"borderGray",className:"w-[calc(50%-4px)] font-medium",onClick:()=>ek(e.cd),children:e.cdNm},e.cd)),z.map(e=>(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(n.zx,{size:"medium",variant:"borderGray",className:"w-[calc(50%-4px)] font-medium",onClick:()=>ek(e.cd),disabled:e.cd===r.N.ST007.PURCHASE_CONFIRMATION.code&&(isNaN(el)||el<0),children:e.cd===r.N.ST007.PURCHASE_CONFIRMATION.code?(0,a.jsxs)(a.Fragment,{children:[e.cdNm,el>=0&&(0,a.jsxs)("span",{style:{color:"red"},children:["(D-",el,")"]})]}):e.cdNm},e.cd)}))]}),(0,a.jsx)(c.Z,{title:"구매확정",open:ee===r.N.ST007.PURCHASE_CONFIRMATION.code,onOk:ef,onCancel:ex,footer:(0,a.jsxs)(n.$_,{className:"bottom-fixed w-full gap-[8px]",children:[(0,a.jsx)(n.zx,{variant:"borderPrimary",className:"!border-1 w-full",onClick:ex,children:"취소"}),(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:ef,children:"확인"})]}),full:!0,width:"375px",className:"my-popup-option mo:rounded-none mo:bg-white pc:!rounded-[12px]",destroyOnClose:!0,children:"구매확정 후 교환 및 반품이 불가합니다. 계속 진행하시겠습니까?"}),(0,a.jsxs)(c.Z,{title:"수령확인",open:ee===r.N.ST007.SHIPPING_FINISH.code,onOk:ex,onCancel:ex,footer:(0,a.jsxs)(n.$_,{className:"bottom-fixed w-full gap-[8px]",children:[(0,a.jsx)(n.zx,{variant:"borderPrimary",className:"!border-1 w-full",onClick:ex,children:"취소"}),(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:eF,children:"확인"})]}),full:!0,width:"375px",className:"my-popup-option mo:rounded-none mo:bg-white pc:!rounded-[12px]",destroyOnClose:!0,children:["수령확인 시 배송완료로 변경되며, 7일 후 자동으로 구매확정됩니다.",(0,a.jsx)("br",{}),"계속 진행하시겠습니까?"]}),(0,a.jsx)(c.Z,{title:q("optionChangeTitle"),open:ee===r.N.ST007.OPTION_CHANGE.code,onOk:ex,onCancel:ex,full:!0,width:"375px",className:"my-popup-option mo:rounded-none mo:bg-white pc:!rounded-[12px]",footer:null,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}},children:(0,a.jsx)(v,{ordNo:t,ordSeq:j,ordProcSeq:R,goodsImg:m,goodsNo:S,goodsNm:f,itmNo:E,itmNm:g,ordQty:y,optGbCd:F,brandNm:N,salePrc:b,closeOptionChange:ex,callback:D})}),(0,a.jsx)(c.Z,{title:" ",open:ee===r.K.CLAIM_BUSINESS.ORDER_CANCEL.code,onOk:eu,onCancel:ex,footer:!1,full:!0,width:"375px",className:"my-popup-option mo:rounded-none mo:bg-white pc:!rounded-[12px]",destroyOnClose:!0,children:(0,a.jsx)(em,{...eC()})}),(0,a.jsx)(c.Z,{title:" ",open:ee===r.K.CLAIM_BUSINESS.EXCHANGE.code,onOk:ex,onCancel:ex,footer:!1,full:!0,width:"375px",className:"my-popup-option mo:rounded-none mo:bg-white pc:!rounded-[12px]",destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}},children:(0,a.jsx)(eE,{...eC()})}),(0,a.jsx)(c.Z,{title:" ",open:ee===r.K.CLAIM_BUSINESS.RETURN.code,onOk:ex,onCancel:ex,footer:!1,full:!0,width:"375px",className:"my-popup-option mo:rounded-none mo:bg-white pc:!rounded-[12px]",cancelButtonProps:{style:{display:"none"}},destroyOnClose:!0,children:(0,a.jsx)(ej,{...eC()})}),(0,a.jsx)(c.Z,{title:q("deliveryFeePayTitle"),open:ee===r.K.CLAIM_BUSINESS.DELIVERY_FEE_PAYMENT.code,onOk:ex,onCancel:ex,destroyOnClose:!0,cancelButtonProps:{style:{display:"none"}},footer:(0,a.jsx)(n.$_,{className:"bottom-fixed w-full",children:(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:()=>J.current.doPay(),children:q("fee-payment.doPayButtonName")})}),full:!0,width:"375px",className:"mo:rounded-none mo:bg-white pc:!rounded-[12px]",children:(0,a.jsx)(eT,{ref:J,...eC()})}),(0,a.jsxs)(c.Z,{open:"alert"===ee,onOk:eu,onCancel:ex,footer:(0,a.jsx)(n.$_,{className:"bottom-fixed w-full gap-[8px]",children:(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:ex,children:"확인"})}),width:"335px",className:"cancel-btn-none pop-alert",children:[eS," "]}),(0,a.jsxs)(c.Z,{open:"alert"===eo,onOk:eh,onCancel:eN,footer:(0,a.jsx)(n.$_,{className:"bottom-fixed w-full gap-[8px]",children:(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:eh,children:"확인"})}),width:"335px",className:"cancel-btn-none pop-alert",children:[eS," "]}),(0,a.jsxs)(c.Z,{open:"exchangeOrReturn"===eo,onOk:eh,onCancel:eN,footer:(0,a.jsx)(n.$_,{className:"bottom-fixed w-full gap-[8px]",children:(0,a.jsx)(n.zx,{variant:"bgcolor",className:"w-full",onClick:eN,children:"확인"})}),width:"335px",className:"cancel-btn-none pop-alert",children:[eS," "]}),(0,a.jsx)(e_.Z,{children:(0,a.jsx)(eI.Z,{children:(0,a.jsx)(eM.Z,{control:es.control,reviewPossibleData:eg,isModify:!1,reloadData:D})})})]})}},13995:function(e,t,o){"use strict";var a=o(57437),s=o(17425),n=o(2265);t.default=e=>{let{type:t,title:o}=e,{setHeaderState:r}=(0,s.Lu)();return(0,n.useLayoutEffect)(()=>{r(t,o)},[t,o]),(0,a.jsx)(a.Fragment,{})}},52335:function(e,t,o){"use strict";o.d(t,{Z:function(){return m}});var a=o(57437),s=o(55009),n=o(2265),r=o(92569),l=o(98337);o(13863);let c=[{title:"주문상세"},{title:"상품준비중"},{title:"배송중"},{title:"배송완료"}];var i=e=>{let{className:t="",items:o=c,progressDot:s=!0,current:n,...r}=e;return(0,a.jsx)("div",{className:"steps-custom".concat(t?" "+t:""),children:(0,a.jsx)(l.Z,{items:o,...r,progressDot:s,current:n})})},d=o(55486);function u(e){let t=()=>{let t=[];return e.detailsList.forEach(e=>{var o;let a={title:"".concat(e.where," | ").concat(e.kind),description:(o=e.time,"".concat((0,d.ol)(o),"(").concat((0,d.yt)(o),") ").concat((0,d.Mr)(o)))};t.push(a)}),t};return(0,a.jsx)(a.Fragment,{children:(0,a.jsx)(i,{direction:"vertical",current:t().length-1,className:"mb-0",items:t()})})}function m(e){let{deliNo:t,deliSeq:o,t:l}=e,[c,i]=(0,n.useState)();return(0,n.useEffect)(()=>{(async()=>{i(await (0,s.G)({deliNo:t,deliSeq:o}))})()},[]),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"",children:[(0,a.jsxs)("dl",{className:"flex justify-between",children:[(0,a.jsx)("dt",{className:"body3",children:l("no")}),(0,a.jsx)("dd",{className:"body3 font-medium",children:null==c?void 0:c.invoiceNo})]}),(0,a.jsxs)("dl",{className:"mt-[12px] flex justify-between",children:[(0,a.jsx)("dt",{className:"body3",children:l("courier")}),(0,a.jsx)("dd",{className:"body3 font-medium",children:null==c?void 0:c.hdcNm})]})]}),(0,a.jsx)(r.Z,{lineBold:!0,className:"-mx-[20px] my-[30px]"}),c?(0,a.jsx)(u,{...c}):(0,a.jsx)("div",{children:l("notFound")})]})}},19121:function(e,t,o){"use strict";o.d(t,{Z:function(){return b}});var a=o(57437),s=o(2265),n=o(68245),r=o(27648),l=o(7734),c=o(99732),i=o(93813),d=o(54093),u=o(66742),m=o(82355),p=o(52335),x=o(99376),h=o(92569),N=e=>{let t=(0,i.F)("delivery-page.tracking");return(0,x.useRouter)(),(0,x.usePathname)(),(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)(m.Z,{...e,salePrc:"RECEIVE"===e.screenType?void 0:e.salePrc,isProductLink:"RECEIVE"!==e.screenType}),(0,a.jsx)(h.Z,{lineBold:!0,className:"-mx-[20px] my-[30px]"}),(0,a.jsx)(p.Z,{...e,t:t})]})},f=o(12381),C=o(19677),g=o(67505),E=o(42049);let y=e=>{let{ecpnNo:t,ecpnUseYn:o,ordDtlStatCd:n,isMobile:r}=e,l=(0,i.F)("claim-page.e-coupon"),{openToast:c,contextHolder:u}=(0,g.Z)(),{isReturnComplete:m,isECpnNo:p,isEcpnUseYn:x}=(0,s.useMemo)(()=>({isReturnComplete:n===d.N.OM005.RETURN_COMPLETE.code,isECpnNo:!!t,isEcpnUseYn:o===E.gT}),[t,o,n]);return(0,a.jsxs)(a.Fragment,{children:[!m&&(0,a.jsx)(a.Fragment,{children:p&&(0,a.jsxs)("div",{className:r?"mb-2 pc:hidden":"inline-flex flex-col items-center",children:[(0,a.jsxs)(f.zx,{variant:"text",size:"none",className:r?"label1 flex items-center justify-center font-medium text-gray3":"label1 mt-1 flex items-center justify-center font-medium text-gray3",onClick:()=>{window.navigator.clipboard&&window.navigator.clipboard.writeText(t).then(()=>{c(3,l("copyCoupon"),!0)}).catch(()=>{c(3,l("retryCoupon"),!0)})},children:[t,(0,a.jsx)("i",{className:r?"icon icon-doc-12 ml-1 size-3":"icon icon-doc-12 ml-1 size-[12px]"})]}),x&&(0,a.jsx)("span",{className:r?"label3 mt-0.5 rounded-[4px] bg-gray8 px-1.5 py-1":"label2 mt-1 rounded-[4px] bg-gray8 p-1.5 py-1",children:l("used")})]})}),u]})};var b=e=>{let{data:t,showCheckBox:o=!1,className:m,noneLink:p="noneLink",showStatus:x=!0,size:h,ellipsis:g=2,screenType:b,showTrackingSearchButton:S,isReceive:v=!1,onChangeCheckbox:j,isChecked:R,counter:T,showWthdInfo:A=!1,isPopup:_}=e,I=(0,i.F)("claim-page"),[M,O]=(0,s.useState)(!1),L={ordNo:t.ordNo,goodsImg:t.goodsImg,brandNm:t.brandNm,goodsNm:t.goodsNm,itmNm:t.itmNm,ordQty:t.ordQty,salePrc:t.salePrc,deliNo:t.deliNo,deliSeq:t.deliSeq,prestNm:t.prestNm,goodsNo:t.goodsNo,screenType:b,closeModal:()=>O(!1)},{isSmartInfiniECoupon:w,isDelivered:D,isEcpnExpired:P}=(0,s.useMemo)(()=>({isSmartInfiniECoupon:t.goodsTypCd===d.N.PR002.CPN_GOODS.code&&t.ecpnLinkGbCd===d.N.VD015.SMART_INFINI.code,isDelivered:t.ordDtlStatCd===d.N.OM005.DELIVERY_COMPLETED.code,isEcpnExpired:t.ecpnExpiredYn===E.gT}),[t]);return(0,a.jsxs)(a.Fragment,{children:[(0,a.jsxs)("div",{className:"relative flex w-full flex-row flex-wrap ".concat(m||""),children:[o&&(0,a.jsx)("div",{className:"mr-2 shrink-0 self-start leading-none",children:(0,a.jsx)(n.Z,{type:"checkbox",value:"option-one",id:"option-one",onChange:e=>j&&j(e),checked:R})}),(0,a.jsxs)("div",{className:"flex gap-[16px] mo:w-full",children:[(0,a.jsx)(r.default,{href:"/goods/detail/".concat(t.goodsNo),className:"".concat(v&&"pointer-events-none"),children:(0,a.jsx)("div",{className:"unit-img size-[100px] shrink-0",children:(0,a.jsx)(l.Z,{src:t.goodsImg,alt:t.goodsNm,className:"w-full shrink-0 pc:pb-[100%] ".concat("01"===t.soldout?"img_soldout":"")})})}),(0,a.jsxs)("div",{className:"flex flex-col items-start justify-center mo:w-full",children:[x&&t.ordDtlStatCdNm&&(0,a.jsxs)("div",{className:"mb-2 flex w-full items-center justify-between pc:hidden",children:[(0,a.jsx)("span",{className:"body1 mb-2 font-bold pc:hidden ".concat(t.ordDtlStatCd===d.N.OM005.ORDER_CANCELLED.code?"text-gray5":""),children:P?I("e-coupon.ecpnExpired"):w&&D?I("e-coupon.deliveryComplete"):t.ordDtlStatCdNm}),"SEND"!==b&&S&&(0,a.jsxs)(f.zx,{variant:"text",size:"none",className:"label1  flex items-center justify-center font-medium text-gray3",onClick:e=>{e.preventDefault(),O(!0)},children:["배송조회",(0,a.jsx)("i",{className:"icon icon-arrow-right-light-16 size-[16px] mo:size-[14px]"})]})]}),w&&!P&&(0,a.jsx)(y,{ecpnNo:t.ecpnNo,ecpnUseYn:t.ecpnUseYn,ordDtlStatCd:t.ordDtlStatCd,isMobile:!0}),(0,a.jsx)("p",{className:"".concat("small"===h?"label2":"label1"," mb-[2px] text-gray3"),children:t.brandNm}),(0,a.jsx)("p",{className:"".concat("small"===h?"label1 mb-[4px]":"body3 mb-[8px]"," ").concat(1===g?"ellipsis-1":"ellipsis-2"," text-black"),children:t.goodsNm}),(0,a.jsxs)("div",{className:"label1 ".concat("small"===h?"mb-[4px]":"mb-[8px]"," text-gray5 [&>span:first-child]:before:content-[''] [&>span]:before:content-['/']"),children:[t.itmNm&&(0,a.jsxs)(a.Fragment,{children:[t.itmNm," "]}),t.ordQty&&(0,a.jsxs)("span",{children:["/ ",I("quantity")," ",t.ordQty]})]}),_&&t.ecpnNo&&(0,a.jsx)("span",{className:"label1 text-gray5",children:t.ecpnNo}),(0,a.jsx)("p",{className:"".concat("small"===h?"body3":"body2"," font-bold text-black"),children:!v&&t.salePrc&&(0,a.jsxs)(a.Fragment,{children:[(0,a.jsx)("span",{className:"body1 font-bold",children:(0,c.addCommas)(t.salePrc.toString())}),I("won")]})})]})]})]}),T&&T,x&&t.ordDtlStatCdNm&&(0,a.jsxs)("div",{className:"w-[130px] text-center mo:hidden mo:w-full",children:[(0,a.jsx)("span",{className:"body1 w-[100px] text-center font-bold mo:hidden ".concat(t.ordDtlStatCd===d.N.OM005.ORDER_CANCELLED.code?"text-gray5":""),children:P?I("e-coupon.ecpnExpired"):w&&D?I("e-coupon.deliveryComplete"):t.ordDtlStatCdNm}),S&&(0,a.jsxs)(f.zx,{variant:"text",size:"none",className:"label1 mt-[8px] flex w-full items-center justify-center font-medium text-gray3 mo:mt-[12px]",onClick:()=>O(!0),children:["배송조회",(0,a.jsx)("i",{className:"icon icon-arrow-right-light-16 size-[16px] mo:size-[14px]"})]}),w&&!P&&(0,a.jsx)(y,{ecpnNo:t.ecpnNo,ecpnUseYn:t.ecpnUseYn,ordDtlStatCd:t.ordDtlStatCd})]}),A&&(null==t?void 0:t.wthdYn)==="N"&&(null==t?void 0:t.goodsTypCd)===d.N.PR002.GEN_GOODS.code&&(0,a.jsx)(C.ge,{className:"py-3",children:(0,a.jsx)(C.vC,{children:I("noReturnableProductMsg")})}),(0,a.jsx)(u.Z,{title:I("trackingSearch"),open:M,onOk:()=>O(!1),onCancel:()=>O(!1),full:!0,destroyOnClose:!0,footer:null,width:"375px",children:(0,a.jsx)(N,{...L})})]})}},86900:function(e,t,o){"use strict";o.d(t,{AT:function(){return r},DA:function(){return c},lg:function(){return l}});var a=o(57437),s=o(68623),n=o(2265);let r=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("relative flex h-10 w-full overflow-hidden border-y border-gray4 bg-white",o),...n})});r.displayName="Counter";let l=n.forwardRef((e,t)=>{let{className:o,disabled:n=!1,...r}=e;return(0,a.jsx)("button",{ref:t,className:(0,s.cn)("flex size-10 shrink-0 items-center justify-center border-x border-gray4 font-bold text-black ".concat(n?"pointer-events-none opacity-40":""),o),...r})});l.displayName="CounterButton";let c=n.forwardRef((e,t)=>{let{className:o,...n}=e;return(0,a.jsx)("div",{ref:t,className:(0,s.cn)("min-w-22 w-full self-center text-center text-sm focus:outline-none",o),...n})});c.displayName="NumberDiv"},45787:function(e,t,o){"use strict";o.d(t,{A:function(){return r}});var a=o(2265),s=o(20269),n=o(54093);let r=e=>{let[t,o]=(0,a.useState)(e),[r,l]=(0,a.useState)(),[c,i]=(0,a.useState)([]),[d,u]=(0,a.useState)([]),[m,p]=(0,a.useState)(!1);return(0,a.useEffect)(()=>{t&&(0,s.ZP)({...t}).then(e=>{var t,o,a;l(e),i(null===(t=e.claimGoodsDetailsList)||void 0===t?void 0:t.filter(e=>e.ordSaleTypCd===n.N.OM004.GENERAL_SALES.code)),u(null===(o=e.claimGoodsDetailsList)||void 0===o?void 0:o.filter(e=>e.ordSaleTypCd===n.N.OM004.GOODS_FREE_GIFT.code)),p(null===(a=e.claimGoodsDetailsList)||void 0===a?void 0:a.some(e=>e.goodsTypCd===n.N.PR002.CPN_GOODS.code&&e.ecpnLinkGbCd===n.N.VD015.SMART_INFINI.code))})},[t]),{claimDetailsInfo:r,claimPrdList:c,claimAePrdList:d,setClaimDetailReq:o,isSmartInfiniECoupon:m}}},67505:function(e,t,o){"use strict";o.d(t,{Z:function(){return n}});var a=o(57437),s=o(57271);function n(){let[e,t]=s.ZP.useNotification({stack:!1,maxCount:1,bottom:20});return{contextHolder:t,openToast(){let t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,o=arguments.length>1&&void 0!==arguments[1]?arguments[1]:"텍스트를 입력해주세요.",s=arguments.length>2&&void 0!==arguments[2]&&arguments[2];e.open({message:(0,a.jsx)("span",{style:{color:s?"white":"black",whiteSpace:"pre-line"},children:o}),placement:"bottom",duration:t,closeIcon:!1,style:{display:"flex",justifyContent:"center",alignItems:"center",width:"351px",height:(null==o?void 0:o.includes("\n"))?"80px":"40px",padding:(null==o?void 0:o.includes("\n"))?"20px 16px":"10px 16px",background:s?"black":"white"}})}}}},88958:function(e,t,o){"use strict";o.d(t,{JM:function(){return g},Ll:function(){return E},Ly:function(){return m},Sr:function(){return b},aD:function(){return p},eg:function(){return u},ev:function(){return C},ks:function(){return x},kw:function(){return N},qv:function(){return f},y1:function(){return h}});var a=o(20269),s=o(20772),n=o(54093),r=o(77962),l=o(99732);let c=(e,t)=>{let o=e.goodsTypCd===n.N.PR002.CPN_GOODS.code&&e.ecpnLinkGbCd===n.N.VD015.SMART_INFINI.code;return{...e,claimQty:e.claimPossibleQty,ordQty:e.claimPossibleQty,...i(o),isChecked:d(e,o,t)}},i=e=>e?{claimLgrpCd:n.N.OM047.ETC.code,claimMgrpCd:n.N.OM006.RETURN_E_COUPON.code}:{claimLgrpCd:"",claimMgrpCd:""},d=(e,t,o)=>!!t||+e.ordSeq===o,u=e=>({ordNo:e.ordNo,ordAccpDtm:e.ordAccpDtm,sctnCnclPsbYn:e.sctnCnclPsbYn,claimTargetGoodsResponseList:e.claimTargetGoodsResponseList}),m=async(e,t)=>e=null==e?void 0:e.map(e=>c(e,t)),p=e=>{let{dlvpNm:t,rcvmnNm:o,zipNo:a,zipAddr:s,dtlAddr:r,rcvmnEmailAddr:l,rcvmnCellSctNo:c,rcvmnCellTxnoNo:i,rcvmnCellEndNo:d,rcvmnTelRgnNo:u,rcvmnTelTxnoNo:m,rcvmnTelEndNo:p,deliMsg:x,deliMsgCd:h,comnFrdrCogoMethodCd:N,comnFrdrEtcMethod:f,comnFrdrPwd:C}=e;return{mbrOrdDlvpGb:n.K.DLVP_GB.ORD.code,dlvpSeq:null,zipNoSeq:null,dlvpNm:t,rcvmnNm:o,zipNo:a,zipAddr:s,dtlAddr:r,rcvmnEmailAddr:l,rcvmnCellSctNo:c,rcvmnCellTxnoNo:i,rcvmnCellEndNo:d,rcvmnTelRgnNo:u,rcvmnTelTxnoNo:m,rcvmnTelEndNo:p,deliMsg:x,deliMsgCd:h,shopTrafMsg:null,comnFrdrCogoMethodCd:N,comnFrdrEtcMethod:f,comnFrdrPwd:C}},x=e=>{var t;return{mbrOrdDlvpGb:n.K.DLVP_GB.MBR.code,dlvpSeq:null,zipNoSeq:null,dlvpNm:e.dlvpNm||"",rcvmnNm:e.rcvmnNm,zipNo:e.zipNo||"",zipAddr:e.zipAddr||"",dtlAddr:e.dtlAddr||"",rcvmnEmailAddr:e.emailAddr||"",rcvmnCellSctNo:e.cellSctNo,rcvmnCellTxnoNo:e.cellTxnoNo,rcvmnCellEndNo:e.cellEndNo,rcvmnTelRgnNo:e.telRgnNo||"",rcvmnTelTxnoNo:e.telTxnoNo||"",rcvmnTelEndNo:e.telEndNo||"",deliMsg:e.deliMsg||"",deliMsgCd:e.deliMsgCd||"",shopTrafMsg:null,comnFrdrCogoMethodCd:e.comnFrdrCogoMethodCd||"",comnFrdrEtcMethod:e.comnFrdrEtcMethod||"",comnFrdrPwd:null!==(t=e.comnFrdrPwd)&&void 0!==t?t:null}},h=(e,t,o,a,s)=>({ordNo:e.ordNo,ordMediaCd:e.ordMediaCd,claimBusinessType:s,systemType:n.K.SYSTEM.FO.code,claimCalculateWorkType:n.K.CLAIM_CALCULATE_WORK_TYPE.VIEW_SEARCH.code,deliMethodCd:e.claimTargetGoodsResponseList[0].deliMethodCd,dlvpInfo:t,withdrawalInfo:o,claimGoodsList:a,selectedRtnDlvBenefitYn:"N",rtnDlvBenefitInfo:null}),N=(e,t)=>{let{ordNo:o,claimNo:a}=e;return{ordNo:o,claimNo:a,claimBusinessType:t,systemType:n.K.SYSTEM.FO.code}},f=(e,t,o)=>{let{ordNo:a,ordManNm:s,ordManEmailAddr:n,ordManCellSctNo:l,ordManCellTxnoNo:c,ordManCellEndNo:i,mbrNo:d,bmanKindCd:u}=e;return{ordNo:a,goodsNm:t,ordManNm:s,ordmnCellNo:"".concat(l).concat(c).concat(i),ordmnEmailAddr:n,mbrNo:d,payBusiness:o,ordMediaCd:(0,r.SA)(),bmanKindCd:u}},C=(e,t)=>{var o,a;let s=null!==(a=null===(o=(0,r.jC)(n.K.CLAIM_BUSINESS,e))||void 0===o?void 0:o.text)&&void 0!==a?a:"";return(0,l.isNotNull)(s)?t("common.".concat(s)):""},g=(e,t,o)=>"/claim".concat(e.successUrl,"?ordNo=").concat(t,"&prevUrl=").concat(o),E=async(e,t,o,a,s,r,l,c,i)=>{let d=await y(e,a,l);return{ordNo:e,ordMediaCd:t,claimBusinessType:o,systemType:n.K.SYSTEM.FO.code,claimGoodsList:d,claimDlvp:s,claimReturnDlvp:r,claimFinalAmtInfo:c,claimCpnInfoList:i}},y=async(e,t,o)=>{let[a,s]=await Promise.all([v(e,t),o&&S(o)]);return t.map(e=>{let t=a.filter(t=>e.ordSeq===t.ordSeq&&e.ordProcSeq===t.ordProcSeq);return s&&(null==o||o.forEach((t,o)=>{e[t]=s[o]})),{...e,prOrdDtlAtchFileInfoList:t}})},b=(e,t,o,a,s,n)=>({adminOrdAmtProcTypCd:e,totalAmt:t,crdtCardAmt:o,pointAmt:a,rltmActnTrsfAmt:s,opOrdAdtnCostList:n}),S=async e=>{let t=await (0,a.cg)({dlvpList:e});return(null==t?void 0:t.code)===s.YC.RESULT_CODE_SUCCESS?t.payload:void 0},v=async(e,t)=>{let o=new FormData;for(let[a,s]of(o.append("ordNo",e),o.append("systemType",n.K.SYSTEM.FO.code),t.entries())){let e="claimGoodsList[".concat(a,"]");Object.entries(s).forEach(t=>{let[a,s]=t;o.append("".concat(e,".").concat(a),s)})}for(let{attachFileList:e,ordSeq:a,ordProcSeq:s}of t){let t="files".concat(a).concat(s);(0,r.ei)(e)&&e.forEach(e=>o.append(t,e))}let l=await (0,a.A5)(o,[]);return(null==l?void 0:l.code)===s.YC.RESULT_CODE_SUCCESS?l.payload:[]}},58001:function(e,t,o){"use strict";o.d(t,{CE:function(){return p},ZG:function(){return l},ax:function(){return y},uv:function(){return c}});var a=o(99732),s=o(54093),n=o(77962),r=o(88958);let l=function(e,t){let o=arguments.length>2&&void 0!==arguments[2]&&arguments[2];return(o?e:e.filter(e=>e.isChecked)).some(e=>e.deliNo!==t.deliNo)},c=(e,t,o)=>i(e,t)?S(o("common.notAvailableSctnCnclAlertMsg")):d(e)?S(o("common.emptySelectedListAlertMsg")):u(e)?S(o("common.notAvailablePartialQtyClaimWithAeGoods")):m(e)?S(o("common.notAvailablePartialQtyClaimWithCpnGoods")):b(),i=(e,t)=>!e.every(e=>e.isChecked&&e.claimPossibleQty===e.claimQty)&&"Y"!==t,d=e=>e.every(e=>!e.isChecked),u=e=>{let t=e.filter(e=>e.isChecked);return null==t?void 0:t.some(e=>e.claimPossibleQty!==e.claimQty&&"Y"===e.aeGoodsYn)},m=e=>{let t=e.filter(e=>e.isChecked);return null==t?void 0:t.some(e=>e.claimPossibleQty!==e.claimQty&&e.goodsTypCd===s.N.PR002.CPN_GOODS.code)},p=(e,t,o)=>x(e,t)?S("".concat((0,r.ev)(t,o)).concat(o("common.emptyClaimCausAlertMsg"))):f(e)?S(o("common.emptyEtcReasonAlertMsg")):h(e)?S(o("common.emptyAttachFileAlertMsg")):N(e,t)?S(o("exchange.emptyExchangeOptionAlertMsg")):b(),x=(e,t)=>s.K.CLAIM_BUSINESS.ORDER_CANCEL.code===t?e.some(e=>(0,a.isNull)(e.claimMgrpCd)):e.some(e=>(0,a.isNull)(e.claimLgrpCd)||(0,a.isNull)(e.claimMgrpCd)),h=e=>e.some(e=>(e.claimLgrpCd===s.N.OM047.PRODUCT_DEFECT.code||e.claimLgrpCd===s.N.OM047.PRODUCT_INFO_ERROR.code)&&(0,n.yD)(e.attachFileList)),N=(e,t)=>{if(t===s.K.CLAIM_BUSINESS.EXCHANGE.code)return e.some(e=>e.claimLgrpCd===s.N.OM047.SIMPLE_CHANGE.code&&(0,a.isNull)(e.exchangeItmNo))},f=e=>e.some(e=>(C(e.claimLgrpCd)||g(e.claimMgrpCd))&&(0,a.isNull)(e.claimCausEtcCont)),C=e=>e===s.N.OM047.PRODUCT_DEFECT.code||e===s.N.OM047.PRODUCT_INFO_ERROR.code||e===s.N.OM047.DELIVERY_COMPLANT.code||e===s.N.OM047.SIMPLE_CHANGE.code||e===s.N.OM047.ETC.code,g=e=>e===s.N.OM006.EXCHANGE_PRODUCT_DEFECT_OTHER.code||e===s.N.OM006.RETURN_PRODUCT_DEFECT_OTHER.code||e===s.N.OM006.RETURN_PRODUCT_INFO_DEFECT_OTHER.code||e===s.N.OM006.RETURN_DELIVERY_COMPLANT_OTHER.code||e===s.N.OM006.RETURN_PRODUCT_CHANGE_OTHER.code,E=["image/png","image/bmp","image/jpeg","image/gif"],y=(e,t)=>e.size>10485760||!E.includes(e.type)?S(t("common.invalidFileAlertMsg")):b(),b=()=>({isPass:!0,alertText:""}),S=e=>({isPass:!1,alertText:e})},17425:function(e,t,o){"use strict";o.d(t,{Je:function(){return l},Lu:function(){return c},j8:function(){return r}});var a=o(59625),s=o(42049);let n=(0,a.Ue)((e,t)=>({type:s.Nc.EMPTY,title:"",fetch:{setHeaderState:(e,o)=>{e?e!==t().type&&t().actions.setHeaderType(e):t().actions.setHeaderType(s.Nc.DEFAULT),o?o!==t().title&&t().actions.setHeaderTitle(o):t().actions.setHeaderTitle("")}},actions:{setHeaderType(t){e({type:t})},setHeaderTitle(t){e({title:t})}}})),r=()=>n(e=>e.type),l=()=>n(e=>e.title),c=()=>n(e=>e.fetch)},78215:function(){},13863:function(){},2894:function(e,t,o){"use strict";o.d(t,{R:function(){return l},m:function(){return r}});var a=o(18238),s=o(7989),n=o(11255),r=class extends s.F{#e;#t;#o;constructor(e){super(),this.mutationId=e.mutationId,this.#t=e.mutationCache,this.#e=[],this.state=e.state||l(),this.setOptions(e.options),this.scheduleGc()}setOptions(e){this.options=e,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(e){this.#e.includes(e)||(this.#e.push(e),this.clearGcTimeout(),this.#t.notify({type:"observerAdded",mutation:this,observer:e}))}removeObserver(e){this.#e=this.#e.filter(t=>t!==e),this.scheduleGc(),this.#t.notify({type:"observerRemoved",mutation:this,observer:e})}optionalRemove(){this.#e.length||("pending"===this.state.status?this.scheduleGc():this.#t.remove(this))}continue(){return this.#o?.continue()??this.execute(this.state.variables)}async execute(e){this.#o=(0,n.Mz)({fn:()=>this.options.mutationFn?this.options.mutationFn(e):Promise.reject(Error("No mutationFn found")),onFail:(e,t)=>{this.#a({type:"failed",failureCount:e,error:t})},onPause:()=>{this.#a({type:"pause"})},onContinue:()=>{this.#a({type:"continue"})},retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>this.#t.canRun(this)});let t="pending"===this.state.status,o=!this.#o.canStart();try{if(!t){this.#a({type:"pending",variables:e,isPaused:o}),await this.#t.config.onMutate?.(e,this);let t=await this.options.onMutate?.(e);t!==this.state.context&&this.#a({type:"pending",context:t,variables:e,isPaused:o})}let a=await this.#o.start();return await this.#t.config.onSuccess?.(a,e,this.state.context,this),await this.options.onSuccess?.(a,e,this.state.context),await this.#t.config.onSettled?.(a,null,this.state.variables,this.state.context,this),await this.options.onSettled?.(a,null,e,this.state.context),this.#a({type:"success",data:a}),a}catch(t){try{throw await this.#t.config.onError?.(t,e,this.state.context,this),await this.options.onError?.(t,e,this.state.context),await this.#t.config.onSettled?.(void 0,t,this.state.variables,this.state.context,this),await this.options.onSettled?.(void 0,t,e,this.state.context),t}finally{this.#a({type:"error",error:t})}}finally{this.#t.runNext(this)}}#a(e){this.state=(t=>{switch(e.type){case"failed":return{...t,failureCount:e.failureCount,failureReason:e.error};case"pause":return{...t,isPaused:!0};case"continue":return{...t,isPaused:!1};case"pending":return{...t,context:e.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:e.isPaused,status:"pending",variables:e.variables,submittedAt:Date.now()};case"success":return{...t,data:e.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...t,data:void 0,error:e.error,failureCount:t.failureCount+1,failureReason:e.error,isPaused:!1,status:"error"}}})(this.state),a.V.batch(()=>{this.#e.forEach(t=>{t.onMutationUpdate(e)}),this.#t.notify({mutation:this,type:"updated",action:e})})}};function l(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}},21770:function(e,t,o){"use strict";o.d(t,{D:function(){return u}});var a=o(2265),s=o(2894),n=o(18238),r=o(24112),l=o(45345),c=class extends r.l{#s;#n=void 0;#r;#l;constructor(e,t){super(),this.#s=e,this.setOptions(t),this.bindMethods(),this.#c()}bindMethods(){this.mutate=this.mutate.bind(this),this.reset=this.reset.bind(this)}setOptions(e){let t=this.options;this.options=this.#s.defaultMutationOptions(e),(0,l.VS)(this.options,t)||this.#s.getMutationCache().notify({type:"observerOptionsUpdated",mutation:this.#r,observer:this}),t?.mutationKey&&this.options.mutationKey&&(0,l.Ym)(t.mutationKey)!==(0,l.Ym)(this.options.mutationKey)?this.reset():this.#r?.state.status==="pending"&&this.#r.setOptions(this.options)}onUnsubscribe(){this.hasListeners()||this.#r?.removeObserver(this)}onMutationUpdate(e){this.#c(),this.#i(e)}getCurrentResult(){return this.#n}reset(){this.#r?.removeObserver(this),this.#r=void 0,this.#c(),this.#i()}mutate(e,t){return this.#l=t,this.#r?.removeObserver(this),this.#r=this.#s.getMutationCache().build(this.#s,this.options),this.#r.addObserver(this),this.#r.execute(e)}#c(){let e=this.#r?.state??(0,s.R)();this.#n={...e,isPending:"pending"===e.status,isSuccess:"success"===e.status,isError:"error"===e.status,isIdle:"idle"===e.status,mutate:this.mutate,reset:this.reset}}#i(e){n.V.batch(()=>{if(this.#l&&this.hasListeners()){let t=this.#n.variables,o=this.#n.context;e?.type==="success"?(this.#l.onSuccess?.(e.data,t,o),this.#l.onSettled?.(e.data,null,t,o)):e?.type==="error"&&(this.#l.onError?.(e.error,t,o),this.#l.onSettled?.(void 0,e.error,t,o))}this.listeners.forEach(e=>{e(this.#n)})})}},i=o(29827),d=o(51172);function u(e,t){let o=(0,i.NL)(t),[s]=a.useState(()=>new c(o,e));a.useEffect(()=>{s.setOptions(e)},[s,e]);let r=a.useSyncExternalStore(a.useCallback(e=>s.subscribe(n.V.batchCalls(e)),[s]),()=>s.getCurrentResult(),()=>s.getCurrentResult()),l=a.useCallback((e,t)=>{s.mutate(e,t).catch(d.Z)},[s]);if(r.error&&(0,d.L)(s.options.throwOnError,[r.error]))throw r.error;return{...r,mutate:l,mutateAsync:r.mutate}}},10364:function(e,t,o){"use strict";o.d(t,{N:function(){return s}});let{useRef:a}=o(2265);function s(e){let t=a();return o=>{let a=e(o);return!function(e,t){if(Object.is(e,t))return!0;if("object"!=typeof e||null===e||"object"!=typeof t||null===t)return!1;if(e instanceof Map&&t instanceof Map){if(e.size!==t.size)return!1;for(let[o,a]of e)if(!Object.is(a,t.get(o)))return!1;return!0}if(e instanceof Set&&t instanceof Set){if(e.size!==t.size)return!1;for(let o of e)if(!t.has(o))return!1;return!0}let o=Object.keys(e);if(o.length!==Object.keys(t).length)return!1;for(let a of o)if(!Object.prototype.hasOwnProperty.call(t,a)||!Object.is(e[a],t[a]))return!1;return!0}(t.current,a)?t.current=a:t.current}}}}]);